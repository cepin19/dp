ITERATION 2
[2019-03-25 21:15:40] Error: There are option(s) in a config file that are not expected
[2019-03-25 21:15:40] Error: Aborted from void marian::ConfigParser::parseOptions(int, char**, bool) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/common/config_parser.cpp:707

[CALL STACK]
[0x552329]                                                            
[0x5325c6]                                                            
[0x5344bd]                                                            
[0x534525]                                                            
[0x44d27b]                                                            
[0x421b70]                                                            
[0x7fba795c1b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 15567 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e $e --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-25 21:15:42] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-25 21:15:42] [marian] Running on spider3.lingea.cz as process 15572 with command line:
[2019-03-25 21:15:42] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e 3 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-25 21:15:43] [config] after-batches: 0
[2019-03-25 21:15:43] [config] after-epochs: 3
[2019-03-25 21:15:43] [config] allow-unk: false
[2019-03-25 21:15:43] [config] beam-size: 6
[2019-03-25 21:15:43] [config] best-deep: false
[2019-03-25 21:15:43] [config] clip-gemm: 0
[2019-03-25 21:15:43] [config] clip-norm: 5
[2019-03-25 21:15:43] [config] cost-type: ce-mean-words
[2019-03-25 21:15:43] [config] cpu-threads: 0
[2019-03-25 21:15:43] [config] data-weighting-type: sentence
[2019-03-25 21:15:43] [config] dec-cell: gru
[2019-03-25 21:15:43] [config] dec-cell-base-depth: 2
[2019-03-25 21:15:43] [config] dec-cell-high-depth: 1
[2019-03-25 21:15:43] [config] dec-depth: 6
[2019-03-25 21:15:43] [config] devices:
[2019-03-25 21:15:43] [config]   - 0
[2019-03-25 21:15:43] [config]   - 1
[2019-03-25 21:15:43] [config] dim-emb: 1024
[2019-03-25 21:15:43] [config] dim-rnn: 1024
[2019-03-25 21:15:43] [config] dim-vocabs:
[2019-03-25 21:15:43] [config]   - 34028
[2019-03-25 21:15:43] [config]   - 34028
[2019-03-25 21:15:43] [config] disp-first: 0
[2019-03-25 21:15:43] [config] disp-freq: 500
[2019-03-25 21:15:43] [config] disp-label-counts: false
[2019-03-25 21:15:43] [config] dropout-rnn: 0
[2019-03-25 21:15:43] [config] dropout-src: 0
[2019-03-25 21:15:43] [config] dropout-trg: 0
[2019-03-25 21:15:43] [config] early-stopping: 5
[2019-03-25 21:15:43] [config] embedding-fix-src: false
[2019-03-25 21:15:43] [config] embedding-fix-trg: false
[2019-03-25 21:15:43] [config] embedding-normalization: false
[2019-03-25 21:15:43] [config] enc-cell: gru
[2019-03-25 21:15:43] [config] enc-cell-depth: 1
[2019-03-25 21:15:43] [config] enc-depth: 6
[2019-03-25 21:15:43] [config] enc-type: bidirectional
[2019-03-25 21:15:43] [config] exponential-smoothing: 0.0001
[2019-03-25 21:15:43] [config] grad-dropping-momentum: 0
[2019-03-25 21:15:43] [config] grad-dropping-rate: 0
[2019-03-25 21:15:43] [config] grad-dropping-warmup: 100
[2019-03-25 21:15:43] [config] guided-alignment: none
[2019-03-25 21:15:43] [config] guided-alignment-cost: mse
[2019-03-25 21:15:43] [config] guided-alignment-weight: 0.1
[2019-03-25 21:15:43] [config] ignore-model-config: false
[2019-03-25 21:15:43] [config] interpolate-env-vars: false
[2019-03-25 21:15:43] [config] keep-best: true
[2019-03-25 21:15:43] [config] label-smoothing: 0.1
[2019-03-25 21:15:43] [config] layer-normalization: false
[2019-03-25 21:15:43] [config] learn-rate: 0.0002
[2019-03-25 21:15:43] [config] log: model/bt_encz.log
[2019-03-25 21:15:43] [config] log-level: info
[2019-03-25 21:15:43] [config] lr-decay: 0
[2019-03-25 21:15:43] [config] lr-decay-freq: 50000
[2019-03-25 21:15:43] [config] lr-decay-inv-sqrt: 8000
[2019-03-25 21:15:43] [config] lr-decay-repeat-warmup: false
[2019-03-25 21:15:43] [config] lr-decay-reset-optimizer: false
[2019-03-25 21:15:43] [config] lr-decay-start:
[2019-03-25 21:15:43] [config]   - 10
[2019-03-25 21:15:43] [config]   - 1
[2019-03-25 21:15:43] [config] lr-decay-strategy: epoch+stalled
[2019-03-25 21:15:43] [config] lr-report: true
[2019-03-25 21:15:43] [config] lr-warmup: 8000
[2019-03-25 21:15:43] [config] lr-warmup-at-reload: false
[2019-03-25 21:15:43] [config] lr-warmup-cycle: false
[2019-03-25 21:15:43] [config] lr-warmup-start-rate: 0
[2019-03-25 21:15:43] [config] max-length: 100
[2019-03-25 21:15:43] [config] max-length-crop: false
[2019-03-25 21:15:43] [config] max-length-factor: 3
[2019-03-25 21:15:43] [config] maxi-batch: 10000
[2019-03-25 21:15:43] [config] maxi-batch-sort: trg
[2019-03-25 21:15:43] [config] mini-batch: 1000
[2019-03-25 21:15:43] [config] mini-batch-fit: true
[2019-03-25 21:15:43] [config] mini-batch-fit-step: 10
[2019-03-25 21:15:43] [config] mini-batch-words: 0
[2019-03-25 21:15:43] [config] model: model/model_bt_encz.npz
[2019-03-25 21:15:43] [config] multi-node: false
[2019-03-25 21:15:43] [config] multi-node-overlap: true
[2019-03-25 21:15:43] [config] n-best: false
[2019-03-25 21:15:43] [config] no-nccl: true
[2019-03-25 21:15:43] [config] no-reload: false
[2019-03-25 21:15:43] [config] no-restore-corpus: false
[2019-03-25 21:15:43] [config] no-shuffle: false
[2019-03-25 21:15:43] [config] normalize: 0.6
[2019-03-25 21:15:43] [config] optimizer: adam
[2019-03-25 21:15:43] [config] optimizer-delay: 4
[2019-03-25 21:15:43] [config] optimizer-params:
[2019-03-25 21:15:43] [config]   - 0.9
[2019-03-25 21:15:43] [config]   - 0.98
[2019-03-25 21:15:43] [config]   - 1e-09
[2019-03-25 21:15:43] [config] overwrite: true
[2019-03-25 21:15:43] [config] quiet: false
[2019-03-25 21:15:43] [config] quiet-translation: true
[2019-03-25 21:15:43] [config] relative-paths: false
[2019-03-25 21:15:43] [config] right-left: false
[2019-03-25 21:15:43] [config] save-freq: 5000
[2019-03-25 21:15:43] [config] seed: 0
[2019-03-25 21:15:43] [config] sentencepiece-alphas:
[2019-03-25 21:15:43] [config]   []
[2019-03-25 21:15:43] [config] sentencepiece-max-lines: 10000000
[2019-03-25 21:15:43] [config] sentencepiece-options: ""
[2019-03-25 21:15:43] [config] shuffle-in-ram: false
[2019-03-25 21:15:43] [config] skip: false
[2019-03-25 21:15:43] [config] sqlite: temporary
[2019-03-25 21:15:43] [config] sqlite-drop: false
[2019-03-25 21:15:43] [config] sync-sgd: true
[2019-03-25 21:15:43] [config] tempdir: /tmp
[2019-03-25 21:15:43] [config] tied-embeddings: false
[2019-03-25 21:15:43] [config] tied-embeddings-all: true
[2019-03-25 21:15:43] [config] tied-embeddings-src: false
[2019-03-25 21:15:43] [config] train-sets:
[2019-03-25 21:15:43] [config]   - bt.encz.en.bpe
[2019-03-25 21:15:43] [config]   - bt.encz.cz.bpe
[2019-03-25 21:15:43] [config] transformer-aan-activation: swish
[2019-03-25 21:15:43] [config] transformer-aan-depth: 2
[2019-03-25 21:15:43] [config] transformer-aan-nogate: false
[2019-03-25 21:15:43] [config] transformer-decoder-autoreg: self-attention
[2019-03-25 21:15:43] [config] transformer-dim-aan: 2048
[2019-03-25 21:15:43] [config] transformer-dim-ffn: 4096
[2019-03-25 21:15:43] [config] transformer-dropout: 0.1
[2019-03-25 21:15:43] [config] transformer-dropout-attention: 0.1
[2019-03-25 21:15:43] [config] transformer-dropout-ffn: 0.1
[2019-03-25 21:15:43] [config] transformer-ffn-activation: swish
[2019-03-25 21:15:43] [config] transformer-ffn-depth: 2
[2019-03-25 21:15:43] [config] transformer-guided-alignment-layer: last
[2019-03-25 21:15:43] [config] transformer-heads: 16
[2019-03-25 21:15:43] [config] transformer-no-projection: false
[2019-03-25 21:15:43] [config] transformer-postprocess: da
[2019-03-25 21:15:43] [config] transformer-postprocess-emb: d
[2019-03-25 21:15:43] [config] transformer-preprocess: n
[2019-03-25 21:15:43] [config] transformer-tied-layers:
[2019-03-25 21:15:43] [config]   []
[2019-03-25 21:15:43] [config] type: transformer
[2019-03-25 21:15:43] [config] ulr: false
[2019-03-25 21:15:43] [config] ulr-dim-emb: 0
[2019-03-25 21:15:43] [config] ulr-dropout: 0
[2019-03-25 21:15:43] [config] ulr-keys-vectors: ""
[2019-03-25 21:15:43] [config] ulr-query-vectors: ""
[2019-03-25 21:15:43] [config] ulr-softmax-temperature: 1
[2019-03-25 21:15:43] [config] ulr-trainable-transformation: false
[2019-03-25 21:15:43] [config] valid-freq: 5000
[2019-03-25 21:15:43] [config] valid-log: model/valid.log
[2019-03-25 21:15:43] [config] valid-max-length: 1000
[2019-03-25 21:15:43] [config] valid-metrics:
[2019-03-25 21:15:43] [config]   - ce-mean-words
[2019-03-25 21:15:43] [config]   - perplexity
[2019-03-25 21:15:43] [config]   - translation
[2019-03-25 21:15:43] [config] valid-mini-batch: 16
[2019-03-25 21:15:43] [config] valid-script-path: val.sh
[2019-03-25 21:15:43] [config] valid-sets:
[2019-03-25 21:15:43] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-25 21:15:43] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-25 21:15:43] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-25 21:15:43] [config] vocabs:
[2019-03-25 21:15:43] [config]   - corp/vocab.encs.yml
[2019-03-25 21:15:43] [config]   - corp/vocab.encs.yml
[2019-03-25 21:15:43] [config] word-penalty: 0
[2019-03-25 21:15:43] [config] workspace: 8600
[2019-03-25 21:15:43] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-25 21:15:43] Using synchronous training
[2019-03-25 21:15:43] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-25 21:15:44] [data] Setting vocabulary size for input 0 to 34028
[2019-03-25 21:15:44] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-25 21:15:44] [data] Setting vocabulary size for input 1 to 34028
[2019-03-25 21:15:44] Error: File 'bt.encz.en.bpe' does not exist
[2019-03-25 21:15:44] Error: Aborted from marian::io::InputFileStream::InputFileStream(const string&) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/common/file_stream.h:139

[CALL STACK]
[0x4c644c]                                                            
[0x596a86]                                                            
[0x5b07dc]                                                            
[0x4a30a6]                                                            
[0x5058b1]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f85f3cf1b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 15572 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e $i --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
ITERATION 3
[2019-03-25 21:15:45] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-25 21:15:45] [marian] Running on spider3.lingea.cz as process 15577 with command line:
[2019-03-25 21:15:45] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e 3 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-25 21:15:45] [config] after-batches: 0
[2019-03-25 21:15:45] [config] after-epochs: 3
[2019-03-25 21:15:45] [config] allow-unk: false
[2019-03-25 21:15:45] [config] beam-size: 6
[2019-03-25 21:15:45] [config] best-deep: false
[2019-03-25 21:15:45] [config] clip-gemm: 0
[2019-03-25 21:15:45] [config] clip-norm: 5
[2019-03-25 21:15:45] [config] cost-type: ce-mean-words
[2019-03-25 21:15:45] [config] cpu-threads: 0
[2019-03-25 21:15:45] [config] data-weighting-type: sentence
[2019-03-25 21:15:45] [config] dec-cell: gru
[2019-03-25 21:15:45] [config] dec-cell-base-depth: 2
[2019-03-25 21:15:45] [config] dec-cell-high-depth: 1
[2019-03-25 21:15:45] [config] dec-depth: 6
[2019-03-25 21:15:45] [config] devices:
[2019-03-25 21:15:45] [config]   - 0
[2019-03-25 21:15:45] [config]   - 1
[2019-03-25 21:15:45] [config] dim-emb: 1024
[2019-03-25 21:15:45] [config] dim-rnn: 1024
[2019-03-25 21:15:45] [config] dim-vocabs:
[2019-03-25 21:15:45] [config]   - 34028
[2019-03-25 21:15:45] [config]   - 34028
[2019-03-25 21:15:45] [config] disp-first: 0
[2019-03-25 21:15:45] [config] disp-freq: 500
[2019-03-25 21:15:45] [config] disp-label-counts: false
[2019-03-25 21:15:45] [config] dropout-rnn: 0
[2019-03-25 21:15:45] [config] dropout-src: 0
[2019-03-25 21:15:45] [config] dropout-trg: 0
[2019-03-25 21:15:45] [config] early-stopping: 5
[2019-03-25 21:15:45] [config] embedding-fix-src: false
[2019-03-25 21:15:45] [config] embedding-fix-trg: false
[2019-03-25 21:15:45] [config] embedding-normalization: false
[2019-03-25 21:15:45] [config] enc-cell: gru
[2019-03-25 21:15:45] [config] enc-cell-depth: 1
[2019-03-25 21:15:45] [config] enc-depth: 6
[2019-03-25 21:15:45] [config] enc-type: bidirectional
[2019-03-25 21:15:45] [config] exponential-smoothing: 0.0001
[2019-03-25 21:15:45] [config] grad-dropping-momentum: 0
[2019-03-25 21:15:45] [config] grad-dropping-rate: 0
[2019-03-25 21:15:45] [config] grad-dropping-warmup: 100
[2019-03-25 21:15:45] [config] guided-alignment: none
[2019-03-25 21:15:45] [config] guided-alignment-cost: mse
[2019-03-25 21:15:45] [config] guided-alignment-weight: 0.1
[2019-03-25 21:15:45] [config] ignore-model-config: false
[2019-03-25 21:15:45] [config] interpolate-env-vars: false
[2019-03-25 21:15:45] [config] keep-best: true
[2019-03-25 21:15:45] [config] label-smoothing: 0.1
[2019-03-25 21:15:45] [config] layer-normalization: false
[2019-03-25 21:15:45] [config] learn-rate: 0.0002
[2019-03-25 21:15:45] [config] log: model/bt_encz.log
[2019-03-25 21:15:45] [config] log-level: info
[2019-03-25 21:15:45] [config] lr-decay: 0
[2019-03-25 21:15:45] [config] lr-decay-freq: 50000
[2019-03-25 21:15:45] [config] lr-decay-inv-sqrt: 8000
[2019-03-25 21:15:45] [config] lr-decay-repeat-warmup: false
[2019-03-25 21:15:45] [config] lr-decay-reset-optimizer: false
[2019-03-25 21:15:45] [config] lr-decay-start:
[2019-03-25 21:15:45] [config]   - 10
[2019-03-25 21:15:45] [config]   - 1
[2019-03-25 21:15:45] [config] lr-decay-strategy: epoch+stalled
[2019-03-25 21:15:45] [config] lr-report: true
[2019-03-25 21:15:45] [config] lr-warmup: 8000
[2019-03-25 21:15:45] [config] lr-warmup-at-reload: false
[2019-03-25 21:15:45] [config] lr-warmup-cycle: false
[2019-03-25 21:15:45] [config] lr-warmup-start-rate: 0
[2019-03-25 21:15:45] [config] max-length: 100
[2019-03-25 21:15:45] [config] max-length-crop: false
[2019-03-25 21:15:45] [config] max-length-factor: 3
[2019-03-25 21:15:45] [config] maxi-batch: 10000
[2019-03-25 21:15:45] [config] maxi-batch-sort: trg
[2019-03-25 21:15:45] [config] mini-batch: 1000
[2019-03-25 21:15:45] [config] mini-batch-fit: true
[2019-03-25 21:15:45] [config] mini-batch-fit-step: 10
[2019-03-25 21:15:45] [config] mini-batch-words: 0
[2019-03-25 21:15:45] [config] model: model/model_bt_encz.npz
[2019-03-25 21:15:45] [config] multi-node: false
[2019-03-25 21:15:45] [config] multi-node-overlap: true
[2019-03-25 21:15:45] [config] n-best: false
[2019-03-25 21:15:45] [config] no-nccl: true
[2019-03-25 21:15:45] [config] no-reload: false
[2019-03-25 21:15:45] [config] no-restore-corpus: false
[2019-03-25 21:15:45] [config] no-shuffle: false
[2019-03-25 21:15:45] [config] normalize: 0.6
[2019-03-25 21:15:45] [config] optimizer: adam
[2019-03-25 21:15:45] [config] optimizer-delay: 4
[2019-03-25 21:15:45] [config] optimizer-params:
[2019-03-25 21:15:45] [config]   - 0.9
[2019-03-25 21:15:45] [config]   - 0.98
[2019-03-25 21:15:45] [config]   - 1e-09
[2019-03-25 21:15:45] [config] overwrite: true
[2019-03-25 21:15:45] [config] quiet: false
[2019-03-25 21:15:45] [config] quiet-translation: true
[2019-03-25 21:15:45] [config] relative-paths: false
[2019-03-25 21:15:45] [config] right-left: false
[2019-03-25 21:15:45] [config] save-freq: 5000
[2019-03-25 21:15:45] [config] seed: 0
[2019-03-25 21:15:45] [config] sentencepiece-alphas:
[2019-03-25 21:15:45] [config]   []
[2019-03-25 21:15:45] [config] sentencepiece-max-lines: 10000000
[2019-03-25 21:15:45] [config] sentencepiece-options: ""
[2019-03-25 21:15:45] [config] shuffle-in-ram: false
[2019-03-25 21:15:45] [config] skip: false
[2019-03-25 21:15:45] [config] sqlite: temporary
[2019-03-25 21:15:45] [config] sqlite-drop: false
[2019-03-25 21:15:45] [config] sync-sgd: true
[2019-03-25 21:15:45] [config] tempdir: /tmp
[2019-03-25 21:15:45] [config] tied-embeddings: false
[2019-03-25 21:15:45] [config] tied-embeddings-all: true
[2019-03-25 21:15:45] [config] tied-embeddings-src: false
[2019-03-25 21:15:45] [config] train-sets:
[2019-03-25 21:15:45] [config]   - corpus+paracrawl.2M.en.bpe
[2019-03-25 21:15:45] [config]   - corpus+paracrawl.2M.cz.bpe
[2019-03-25 21:15:45] [config] transformer-aan-activation: swish
[2019-03-25 21:15:45] [config] transformer-aan-depth: 2
[2019-03-25 21:15:45] [config] transformer-aan-nogate: false
[2019-03-25 21:15:45] [config] transformer-decoder-autoreg: self-attention
[2019-03-25 21:15:45] [config] transformer-dim-aan: 2048
[2019-03-25 21:15:45] [config] transformer-dim-ffn: 4096
[2019-03-25 21:15:45] [config] transformer-dropout: 0.1
[2019-03-25 21:15:45] [config] transformer-dropout-attention: 0.1
[2019-03-25 21:15:45] [config] transformer-dropout-ffn: 0.1
[2019-03-25 21:15:45] [config] transformer-ffn-activation: swish
[2019-03-25 21:15:45] [config] transformer-ffn-depth: 2
[2019-03-25 21:15:45] [config] transformer-guided-alignment-layer: last
[2019-03-25 21:15:45] [config] transformer-heads: 16
[2019-03-25 21:15:45] [config] transformer-no-projection: false
[2019-03-25 21:15:45] [config] transformer-postprocess: da
[2019-03-25 21:15:45] [config] transformer-postprocess-emb: d
[2019-03-25 21:15:45] [config] transformer-preprocess: n
[2019-03-25 21:15:45] [config] transformer-tied-layers:
[2019-03-25 21:15:45] [config]   []
[2019-03-25 21:15:45] [config] type: transformer
[2019-03-25 21:15:45] [config] ulr: false
[2019-03-25 21:15:45] [config] ulr-dim-emb: 0
[2019-03-25 21:15:45] [config] ulr-dropout: 0
[2019-03-25 21:15:45] [config] ulr-keys-vectors: ""
[2019-03-25 21:15:45] [config] ulr-query-vectors: ""
[2019-03-25 21:15:45] [config] ulr-softmax-temperature: 1
[2019-03-25 21:15:45] [config] ulr-trainable-transformation: false
[2019-03-25 21:15:45] [config] valid-freq: 5000
[2019-03-25 21:15:45] [config] valid-log: model/valid.log
[2019-03-25 21:15:45] [config] valid-max-length: 1000
[2019-03-25 21:15:45] [config] valid-metrics:
[2019-03-25 21:15:45] [config]   - ce-mean-words
[2019-03-25 21:15:45] [config]   - perplexity
[2019-03-25 21:15:45] [config]   - translation
[2019-03-25 21:15:45] [config] valid-mini-batch: 16
[2019-03-25 21:15:45] [config] valid-script-path: ./val.sh
[2019-03-25 21:15:45] [config] valid-sets:
[2019-03-25 21:15:45] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-25 21:15:45] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-25 21:15:45] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-25 21:15:45] [config] vocabs:
[2019-03-25 21:15:45] [config]   - corp/vocab.encs.yml
[2019-03-25 21:15:45] [config]   - corp/vocab.encs.yml
[2019-03-25 21:15:45] [config] word-penalty: 0
[2019-03-25 21:15:45] [config] workspace: 8600
[2019-03-25 21:15:45] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-25 21:15:45] Using synchronous training
[2019-03-25 21:15:45] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-25 21:15:45] [data] Setting vocabulary size for input 0 to 34028
[2019-03-25 21:15:45] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-25 21:15:45] [data] Setting vocabulary size for input 1 to 34028
[2019-03-25 21:15:45] [sqlite] Creating temporary database in /tmp
[2019-03-25 21:15:49] [sqlite] Inserted 1000000 lines
[2019-03-25 21:15:52] [sqlite] Inserted 2000000 lines
[2019-03-25 21:15:57] [sqlite] Inserted 4000000 lines
[2019-03-25 21:16:10] [sqlite] Inserted 8000000 lines
[2019-03-25 21:16:41] [sqlite] Inserted 16000000 lines
[2019-03-25 21:17:38] [sqlite] Inserted 32000000 lines
[2019-03-25 21:18:16] [sqlite] Inserted 41438108 lines
[2019-03-25 21:18:16] [sqlite] Creating primary index
[2019-03-25 21:19:11] [batching] Collecting statistics for batch fitting with step size 10
[2019-03-25 21:19:11] Compiled without MPI support. Falling back to FakeMPIWrapper
[2019-03-25 21:19:13] [memory] Extending reserved space to 8704 MB (device gpu0)
[2019-03-25 21:19:14] [memory] Extending reserved space to 8704 MB (device gpu1)
[2019-03-25 21:19:14] [comm] NCCL communicator overridden
[2019-03-25 21:19:14] [memory] Reserving 805 MB, device gpu0
[2019-03-25 21:19:14] [memory] Reserving 805 MB, device gpu0
[2019-03-25 21:19:26] [batching] Done
[2019-03-25 21:19:26] [memory] Extending reserved space to 8704 MB (device gpu0)
[2019-03-25 21:19:26] [memory] Extending reserved space to 8704 MB (device gpu1)
[2019-03-25 21:19:26] [comm] NCCL communicator overridden
[2019-03-25 21:19:26] Loading model from model/model_bt_encz.npz.orig.npz
[2019-03-25 21:19:35] Loading model from model/model_bt_encz.npz.orig.npz
[2019-03-25 21:19:36] Loading Adam parameters from model/model_bt_encz.npz.optimizer.npz
[2019-03-25 21:19:53] [memory] Reserving 805 MB, device gpu0
[2019-03-25 21:19:53] [memory] Reserving 805 MB, device gpu1
[2019-03-25 21:19:54] [data] Restoring the corpus state to epoch 1, batch 20000
[2019-03-25 21:19:54] [sqlite] Selecting shuffled data
[2019-03-25 21:38:21] Training started
[2019-03-25 21:38:21] [memory] Reserving 805 MB, device gpu0
[2019-03-25 21:38:21] [memory] Reserving 805 MB, device gpu1
[2019-03-25 21:38:22] Loading model from model/model_bt_encz.npz
[2019-03-25 21:38:29] [memory] Reserving 805 MB, device cpu0
[2019-03-25 21:38:30] [memory] Reserving 402 MB, device gpu0
[2019-03-25 21:38:30] [memory] Reserving 402 MB, device gpu1
[2019-03-25 21:38:30] [memory] Reserving 805 MB, device gpu0
[2019-03-25 21:38:30] [memory] Reserving 805 MB, device gpu1
[2019-03-25 21:38:32] [memory] Reserving 402 MB, device gpu0
[2019-03-25 21:38:32] [memory] Reserving 402 MB, device gpu1
[2019-03-25 21:56:05] Ep. 1 : Up. 20500 : Sen. 5,755,180 : Cost 3.58730197 : Time 2199.01s : 3889.82 words/s : L.r. 1.2494e-04
[2019-03-25 22:13:48] Ep. 1 : Up. 21000 : Sen. 6,263,156 : Cost 3.52978230 : Time 1063.42s : 8022.29 words/s : L.r. 1.2344e-04
[2019-03-25 22:31:42] Ep. 1 : Up. 21500 : Sen. 6,812,118 : Cost 3.50233269 : Time 1074.22s : 8064.46 words/s : L.r. 1.2200e-04
[2019-03-25 22:49:33] Ep. 1 : Up. 22000 : Sen. 7,327,997 : Cost 3.45689178 : Time 1070.68s : 8017.74 words/s : L.r. 1.2060e-04
[2019-03-25 23:07:25] Ep. 1 : Up. 22500 : Sen. 7,838,328 : Cost 3.47345042 : Time 1072.45s : 8061.38 words/s : L.r. 1.1926e-04
[2019-03-25 23:25:08] Ep. 1 : Up. 23000 : Sen. 8,357,097 : Cost 3.42850399 : Time 1062.56s : 8003.66 words/s : L.r. 1.1795e-04
[2019-03-25 23:42:53] Ep. 1 : Up. 23500 : Sen. 8,856,177 : Cost 3.40146279 : Time 1064.94s : 8024.53 words/s : L.r. 1.1669e-04
[2019-03-26 00:00:38] Ep. 1 : Up. 24000 : Sen. 9,396,608 : Cost 3.35675693 : Time 1065.58s : 7942.84 words/s : L.r. 1.1547e-04
[2019-03-26 00:18:46] Ep. 1 : Up. 24500 : Sen. 9,922,512 : Cost 3.34816551 : Time 1087.53s : 8075.95 words/s : L.r. 1.1429e-04
[2019-03-26 00:36:52] Ep. 1 : Up. 25000 : Sen. 10,434,106 : Cost 3.34626245 : Time 1086.38s : 8100.99 words/s : L.r. 1.1314e-04
[2019-03-26 00:36:52] Saving model weights and runtime parameters to model/model_bt_encz.npz.orig.npz
[2019-03-26 00:37:09] Saving model weights and runtime parameters to model/model_bt_encz.npz
[2019-03-26 00:37:24] Saving Adam parameters to model/model_bt_encz.npz.optimizer.npz
[2019-03-26 00:38:06] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-ce-mean-words.npz
[2019-03-26 00:38:20] [valid] Ep. 1 : Up. 25000 : ce-mean-words : 2.18815 : new best
[2019-03-26 00:38:24] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-perplexity.npz
[2019-03-26 00:38:39] [valid] Ep. 1 : Up. 25000 : perplexity : 8.91867 : new best
Detokenizer Version $Revision: 4134 $
Language: en
[2019-03-26 00:40:23] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-translation.npz
[2019-03-26 00:40:35] [valid] Ep. 1 : Up. 25000 : translation : 20.63 : new best
[2019-03-26 00:58:42] Ep. 1 : Up. 25500 : Sen. 10,974,990 : Cost 3.31235504 : Time 1309.42s : 6693.42 words/s : L.r. 1.1202e-04
[2019-03-26 01:16:39] Ep. 1 : Up. 26000 : Sen. 11,497,856 : Cost 3.31235337 : Time 1077.50s : 8017.93 words/s : L.r. 1.1094e-04
[2019-03-26 01:34:40] Ep. 1 : Up. 26500 : Sen. 12,033,887 : Cost 3.30193019 : Time 1080.32s : 8044.85 words/s : L.r. 1.0989e-04
[2019-03-26 01:52:47] Ep. 1 : Up. 27000 : Sen. 12,581,292 : Cost 3.24795175 : Time 1087.65s : 8054.21 words/s : L.r. 1.0887e-04
[2019-03-26 02:11:07] Ep. 1 : Up. 27500 : Sen. 13,137,940 : Cost 3.20770049 : Time 1099.93s : 8132.41 words/s : L.r. 1.0787e-04
[2019-03-26 02:29:06] Ep. 1 : Up. 28000 : Sen. 13,690,767 : Cost 3.23004293 : Time 1078.75s : 8118.25 words/s : L.r. 1.0690e-04
[2019-03-26 02:47:21] Ep. 1 : Up. 28500 : Sen. 14,235,244 : Cost 3.19219613 : Time 1094.82s : 8085.42 words/s : L.r. 1.0596e-04
[2019-03-26 03:05:23] Ep. 1 : Up. 29000 : Sen. 14,744,991 : Cost 3.19198370 : Time 1082.43s : 8116.85 words/s : L.r. 1.0505e-04
[2019-03-26 03:23:10] Ep. 1 : Up. 29500 : Sen. 15,249,438 : Cost 3.21233726 : Time 1066.83s : 8119.66 words/s : L.r. 1.0415e-04
[2019-03-26 03:40:51] Ep. 1 : Up. 30000 : Sen. 15,798,067 : Cost 3.20162749 : Time 1060.81s : 8086.91 words/s : L.r. 1.0328e-04
[2019-03-26 03:40:51] Saving model weights and runtime parameters to model/model_bt_encz.npz.orig.npz
[2019-03-26 03:41:06] Saving model weights and runtime parameters to model/model_bt_encz.npz
[2019-03-26 03:41:22] Saving Adam parameters to model/model_bt_encz.npz.optimizer.npz
[2019-03-26 03:41:58] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-ce-mean-words.npz
[2019-03-26 03:42:12] [valid] Ep. 1 : Up. 30000 : ce-mean-words : 1.98937 : new best
[2019-03-26 03:42:16] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-perplexity.npz
[2019-03-26 03:42:30] [valid] Ep. 1 : Up. 30000 : perplexity : 7.31094 : new best
Detokenizer Version $Revision: 4134 $
Language: en
[2019-03-26 03:44:08] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-translation.npz
[2019-03-26 03:44:22] [valid] Ep. 1 : Up. 30000 : translation : 22.48 : new best
[2019-03-26 04:02:05] Ep. 1 : Up. 30500 : Sen. 16,286,684 : Cost 3.24813867 : Time 1273.80s : 6801.33 words/s : L.r. 1.0243e-04
[2019-03-26 04:20:03] Ep. 1 : Up. 31000 : Sen. 16,815,977 : Cost 3.16220164 : Time 1077.98s : 8113.50 words/s : L.r. 1.0160e-04
[2019-03-26 04:37:58] Ep. 1 : Up. 31500 : Sen. 17,369,179 : Cost 3.15116954 : Time 1075.02s : 8055.50 words/s : L.r. 1.0079e-04
[2019-03-26 04:55:41] Ep. 1 : Up. 32000 : Sen. 17,903,470 : Cost 3.14640808 : Time 1063.05s : 7942.76 words/s : L.r. 1.0000e-04
[2019-03-26 05:13:43] Ep. 1 : Up. 32500 : Sen. 18,437,312 : Cost 3.15013885 : Time 1082.04s : 8060.02 words/s : L.r. 9.9228e-05
[2019-03-26 05:31:35] Ep. 1 : Up. 33000 : Sen. 18,962,830 : Cost 3.12592554 : Time 1072.47s : 7979.36 words/s : L.r. 9.8473e-05
[2019-03-26 05:49:34] Ep. 1 : Up. 33500 : Sen. 19,508,510 : Cost 3.09603620 : Time 1078.96s : 8059.48 words/s : L.r. 9.7736e-05
[2019-03-26 06:07:46] Ep. 1 : Up. 34000 : Sen. 20,048,997 : Cost 3.08040571 : Time 1091.38s : 8058.56 words/s : L.r. 9.7014e-05
[2019-03-26 06:25:30] Ep. 1 : Up. 34500 : Sen. 20,547,728 : Cost 3.09081483 : Time 1064.55s : 7951.76 words/s : L.r. 9.6309e-05
[2019-03-26 06:43:36] Ep. 1 : Up. 35000 : Sen. 21,085,654 : Cost 3.07354927 : Time 1085.81s : 7944.81 words/s : L.r. 9.5618e-05
[2019-03-26 06:43:36] Saving model weights and runtime parameters to model/model_bt_encz.npz.orig.npz
[2019-03-26 06:43:50] Saving model weights and runtime parameters to model/model_bt_encz.npz
[2019-03-26 06:44:05] Saving Adam parameters to model/model_bt_encz.npz.optimizer.npz
[2019-03-26 06:44:38] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-ce-mean-words.npz
[2019-03-26 06:44:52] [valid] Ep. 1 : Up. 35000 : ce-mean-words : 1.87885 : new best
[2019-03-26 06:44:56] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-perplexity.npz
[2019-03-26 06:45:11] [valid] Ep. 1 : Up. 35000 : perplexity : 6.54598 : new best
Detokenizer Version $Revision: 4134 $
Language: en
[2019-03-26 06:46:47] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-translation.npz
[2019-03-26 06:47:02] [valid] Ep. 1 : Up. 35000 : translation : 23.62 : new best
[2019-03-26 07:05:15] Ep. 1 : Up. 35500 : Sen. 21,615,270 : Cost 3.09737468 : Time 1298.66s : 6731.49 words/s : L.r. 9.4943e-05
[2019-03-26 07:23:22] Ep. 1 : Up. 36000 : Sen. 22,159,093 : Cost 3.11424184 : Time 1087.35s : 8064.25 words/s : L.r. 9.4281e-05
[2019-03-26 07:41:32] Ep. 1 : Up. 36500 : Sen. 22,687,546 : Cost 3.08741999 : Time 1090.28s : 8105.94 words/s : L.r. 9.3633e-05
[2019-03-26 07:59:22] Ep. 1 : Up. 37000 : Sen. 23,208,001 : Cost 3.09792209 : Time 1070.00s : 7997.69 words/s : L.r. 9.2998e-05
[2019-03-26 08:17:08] Ep. 1 : Up. 37500 : Sen. 23,719,664 : Cost 3.08908939 : Time 1065.98s : 8079.72 words/s : L.r. 9.2376e-05
[2019-03-26 08:35:03] Ep. 1 : Up. 38000 : Sen. 24,252,371 : Cost 3.07243752 : Time 1074.76s : 8014.48 words/s : L.r. 9.1766e-05
[2019-03-26 08:52:11] Ep. 1 : Up. 38500 : Sen. 24,734,348 : Cost 3.10632157 : Time 1028.31s : 7926.85 words/s : L.r. 9.1168e-05
[2019-03-26 09:09:24] Ep. 1 : Up. 39000 : Sen. 25,239,152 : Cost 3.05114436 : Time 1032.47s : 7847.85 words/s : L.r. 9.0582e-05
[2019-03-26 09:15:04] Seen 25401175 samples
[2019-03-26 09:15:04] Starting epoch 2
[2019-03-26 09:15:04] [sqlite] Selecting shuffled data
[2019-03-26 09:35:09] Ep. 2 : Up. 39500 : Sen. 335,137 : Cost 3.04580283 : Time 1545.19s : 5483.57 words/s : L.r. 9.0007e-05
[2019-03-26 09:53:11] Ep. 2 : Up. 40000 : Sen. 882,623 : Cost 3.01361752 : Time 1082.08s : 8020.18 words/s : L.r. 8.9443e-05
[2019-03-26 09:53:11] Saving model weights and runtime parameters to model/model_bt_encz.npz.orig.npz
[2019-03-26 09:53:26] Saving model weights and runtime parameters to model/model_bt_encz.npz
[2019-03-26 09:53:41] Saving Adam parameters to model/model_bt_encz.npz.optimizer.npz
[2019-03-26 09:54:15] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-ce-mean-words.npz
[2019-03-26 09:54:29] [valid] Ep. 2 : Up. 40000 : ce-mean-words : 1.80816 : new best
[2019-03-26 09:54:33] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-perplexity.npz
[2019-03-26 09:54:46] [valid] Ep. 2 : Up. 40000 : perplexity : 6.0992 : new best
Detokenizer Version $Revision: 4134 $
Language: en
[2019-03-26 09:56:29] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-translation.npz
[2019-03-26 09:56:42] [valid] Ep. 2 : Up. 40000 : translation : 24.5 : new best
[2019-03-26 10:14:51] Ep. 2 : Up. 40500 : Sen. 1,428,499 : Cost 3.04304886 : Time 1300.19s : 6727.70 words/s : L.r. 8.8889e-05
[2019-03-26 10:32:56] Ep. 2 : Up. 41000 : Sen. 1,953,773 : Cost 3.03486276 : Time 1084.71s : 8030.41 words/s : L.r. 8.8345e-05
[2019-03-26 10:51:12] Ep. 2 : Up. 41500 : Sen. 2,478,343 : Cost 3.04228091 : Time 1096.52s : 8103.96 words/s : L.r. 8.7811e-05
[2019-03-26 11:05:11] Error: CUDA error 77 'an illegal memory access was encountered' - /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/cuda_helpers.h:45: cudaMemcpy(dest, start, (end - start) * sizeof(T), cudaMemcpyDefault)
[2019-03-26 11:05:11] Error: CUDA error 77 'an illegal memory access was encountered' - /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/algorithm.cu:55: cudaStreamSynchronize(0)
[2019-03-26 11:05:11] Error: Aborted from void CudaCopy(const T*, const T*, T*) [with T = const float*] in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/cuda_helpers.h:45
Aborted from void marian::gpu::fill(marian::Ptr<marian::Backend>, T*, T*, T) [with T = float; marian::Ptr<marian::Backend> = std::shared_ptr<marian::Backend>] in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/algorithm.cu:55

[CALL STACK]
[0xa6399a]                                                            
[0x5c4afc]                                                            
[0x65407c]                                                            
[0x4e89b1]                                                            
[0x752c40]                                                            
[0x7f155205d230]                                                       + 0xb5230
[0x7f15527dfdc5]                                                       + 0x7dc5
[0x7f15517b776d]    clone                                              + 0x6d

train_bt_encs.sh: line 2: 15577 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e $e --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 11:07:52] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 11:07:52] [marian] Running on spider3.lingea.cz as process 7790 with command line:
[2019-03-26 11:07:52] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e 4 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 11:07:53] [config] after-batches: 0
[2019-03-26 11:07:53] [config] after-epochs: 4
[2019-03-26 11:07:53] [config] allow-unk: false
[2019-03-26 11:07:53] [config] beam-size: 6
[2019-03-26 11:07:53] [config] best-deep: false
[2019-03-26 11:07:53] [config] clip-gemm: 0
[2019-03-26 11:07:53] [config] clip-norm: 5
[2019-03-26 11:07:53] [config] cost-type: ce-mean-words
[2019-03-26 11:07:53] [config] cpu-threads: 0
[2019-03-26 11:07:53] [config] data-weighting-type: sentence
[2019-03-26 11:07:53] [config] dec-cell: gru
[2019-03-26 11:07:53] [config] dec-cell-base-depth: 2
[2019-03-26 11:07:53] [config] dec-cell-high-depth: 1
[2019-03-26 11:07:53] [config] dec-depth: 6
[2019-03-26 11:07:53] [config] devices:
[2019-03-26 11:07:53] [config]   - 0
[2019-03-26 11:07:53] [config]   - 1
[2019-03-26 11:07:53] [config] dim-emb: 1024
[2019-03-26 11:07:53] [config] dim-rnn: 1024
[2019-03-26 11:07:53] [config] dim-vocabs:
[2019-03-26 11:07:53] [config]   - 34028
[2019-03-26 11:07:53] [config]   - 34028
[2019-03-26 11:07:53] [config] disp-first: 0
[2019-03-26 11:07:53] [config] disp-freq: 500
[2019-03-26 11:07:53] [config] disp-label-counts: false
[2019-03-26 11:07:53] [config] dropout-rnn: 0
[2019-03-26 11:07:53] [config] dropout-src: 0
[2019-03-26 11:07:53] [config] dropout-trg: 0
[2019-03-26 11:07:53] [config] early-stopping: 5
[2019-03-26 11:07:53] [config] embedding-fix-src: false
[2019-03-26 11:07:53] [config] embedding-fix-trg: false
[2019-03-26 11:07:53] [config] embedding-normalization: false
[2019-03-26 11:07:53] [config] enc-cell: gru
[2019-03-26 11:07:53] [config] enc-cell-depth: 1
[2019-03-26 11:07:53] [config] enc-depth: 6
[2019-03-26 11:07:53] [config] enc-type: bidirectional
[2019-03-26 11:07:53] [config] exponential-smoothing: 0.0001
[2019-03-26 11:07:53] [config] grad-dropping-momentum: 0
[2019-03-26 11:07:53] [config] grad-dropping-rate: 0
[2019-03-26 11:07:53] [config] grad-dropping-warmup: 100
[2019-03-26 11:07:53] [config] guided-alignment: none
[2019-03-26 11:07:53] [config] guided-alignment-cost: mse
[2019-03-26 11:07:53] [config] guided-alignment-weight: 0.1
[2019-03-26 11:07:53] [config] ignore-model-config: false
[2019-03-26 11:07:53] [config] interpolate-env-vars: false
[2019-03-26 11:07:53] [config] keep-best: true
[2019-03-26 11:07:53] [config] label-smoothing: 0.1
[2019-03-26 11:07:53] [config] layer-normalization: false
[2019-03-26 11:07:53] [config] learn-rate: 0.0002
[2019-03-26 11:07:53] [config] log: model/bt_encz.log
[2019-03-26 11:07:53] [config] log-level: info
[2019-03-26 11:07:53] [config] lr-decay: 0
[2019-03-26 11:07:53] [config] lr-decay-freq: 50000
[2019-03-26 11:07:53] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 11:07:53] [config] lr-decay-repeat-warmup: false
[2019-03-26 11:07:53] [config] lr-decay-reset-optimizer: false
[2019-03-26 11:07:53] [config] lr-decay-start:
[2019-03-26 11:07:53] [config]   - 10
[2019-03-26 11:07:53] [config]   - 1
[2019-03-26 11:07:53] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 11:07:53] [config] lr-report: true
[2019-03-26 11:07:53] [config] lr-warmup: 8000
[2019-03-26 11:07:53] [config] lr-warmup-at-reload: false
[2019-03-26 11:07:53] [config] lr-warmup-cycle: false
[2019-03-26 11:07:53] [config] lr-warmup-start-rate: 0
[2019-03-26 11:07:53] [config] max-length: 100
[2019-03-26 11:07:53] [config] max-length-crop: false
[2019-03-26 11:07:53] [config] max-length-factor: 3
[2019-03-26 11:07:53] [config] maxi-batch: 10000
[2019-03-26 11:07:53] [config] maxi-batch-sort: trg
[2019-03-26 11:07:53] [config] mini-batch: 1000
[2019-03-26 11:07:53] [config] mini-batch-fit: true
[2019-03-26 11:07:53] [config] mini-batch-fit-step: 10
[2019-03-26 11:07:53] [config] mini-batch-words: 0
[2019-03-26 11:07:53] [config] model: model/model_bt_encz.npz
[2019-03-26 11:07:53] [config] multi-node: false
[2019-03-26 11:07:53] [config] multi-node-overlap: true
[2019-03-26 11:07:53] [config] n-best: false
[2019-03-26 11:07:53] [config] no-nccl: true
[2019-03-26 11:07:53] [config] no-reload: false
[2019-03-26 11:07:53] [config] no-restore-corpus: false
[2019-03-26 11:07:53] [config] no-shuffle: false
[2019-03-26 11:07:53] [config] normalize: 0.6
[2019-03-26 11:07:53] [config] optimizer: adam
[2019-03-26 11:07:53] [config] optimizer-delay: 4
[2019-03-26 11:07:53] [config] optimizer-params:
[2019-03-26 11:07:53] [config]   - 0.9
[2019-03-26 11:07:53] [config]   - 0.98
[2019-03-26 11:07:53] [config]   - 1e-09
[2019-03-26 11:07:53] [config] overwrite: true
[2019-03-26 11:07:53] [config] quiet: false
[2019-03-26 11:07:53] [config] quiet-translation: true
[2019-03-26 11:07:53] [config] relative-paths: false
[2019-03-26 11:07:53] [config] right-left: false
[2019-03-26 11:07:53] [config] save-freq: 5000
[2019-03-26 11:07:53] [config] seed: 0
[2019-03-26 11:07:53] [config] sentencepiece-alphas:
[2019-03-26 11:07:53] [config]   []
[2019-03-26 11:07:53] [config] sentencepiece-max-lines: 10000000
[2019-03-26 11:07:53] [config] sentencepiece-options: ""
[2019-03-26 11:07:53] [config] shuffle-in-ram: false
[2019-03-26 11:07:53] [config] skip: false
[2019-03-26 11:07:53] [config] sqlite: temporary
[2019-03-26 11:07:53] [config] sqlite-drop: false
[2019-03-26 11:07:53] [config] sync-sgd: true
[2019-03-26 11:07:53] [config] tempdir: /tmp
[2019-03-26 11:07:53] [config] tied-embeddings: false
[2019-03-26 11:07:53] [config] tied-embeddings-all: true
[2019-03-26 11:07:53] [config] tied-embeddings-src: false
[2019-03-26 11:07:53] [config] train-sets:
[2019-03-26 11:07:53] [config]   - bt.encz.en.bpe
[2019-03-26 11:07:53] [config]   - bt.encz.cz.bpe
[2019-03-26 11:07:53] [config] transformer-aan-activation: swish
[2019-03-26 11:07:53] [config] transformer-aan-depth: 2
[2019-03-26 11:07:53] [config] transformer-aan-nogate: false
[2019-03-26 11:07:53] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 11:07:53] [config] transformer-dim-aan: 2048
[2019-03-26 11:07:53] [config] transformer-dim-ffn: 4096
[2019-03-26 11:07:53] [config] transformer-dropout: 0.1
[2019-03-26 11:07:53] [config] transformer-dropout-attention: 0.1
[2019-03-26 11:07:53] [config] transformer-dropout-ffn: 0.1
[2019-03-26 11:07:53] [config] transformer-ffn-activation: swish
[2019-03-26 11:07:53] [config] transformer-ffn-depth: 2
[2019-03-26 11:07:53] [config] transformer-guided-alignment-layer: last
[2019-03-26 11:07:53] [config] transformer-heads: 16
[2019-03-26 11:07:53] [config] transformer-no-projection: false
[2019-03-26 11:07:53] [config] transformer-postprocess: da
[2019-03-26 11:07:53] [config] transformer-postprocess-emb: d
[2019-03-26 11:07:53] [config] transformer-preprocess: n
[2019-03-26 11:07:53] [config] transformer-tied-layers:
[2019-03-26 11:07:53] [config]   []
[2019-03-26 11:07:53] [config] type: transformer
[2019-03-26 11:07:53] [config] ulr: false
[2019-03-26 11:07:53] [config] ulr-dim-emb: 0
[2019-03-26 11:07:53] [config] ulr-dropout: 0
[2019-03-26 11:07:53] [config] ulr-keys-vectors: ""
[2019-03-26 11:07:53] [config] ulr-query-vectors: ""
[2019-03-26 11:07:53] [config] ulr-softmax-temperature: 1
[2019-03-26 11:07:53] [config] ulr-trainable-transformation: false
[2019-03-26 11:07:53] [config] valid-freq: 5000
[2019-03-26 11:07:53] [config] valid-log: model/valid.log
[2019-03-26 11:07:53] [config] valid-max-length: 1000
[2019-03-26 11:07:53] [config] valid-metrics:
[2019-03-26 11:07:53] [config]   - ce-mean-words
[2019-03-26 11:07:53] [config]   - perplexity
[2019-03-26 11:07:53] [config]   - translation
[2019-03-26 11:07:53] [config] valid-mini-batch: 16
[2019-03-26 11:07:53] [config] valid-script-path: val.sh
[2019-03-26 11:07:53] [config] valid-sets:
[2019-03-26 11:07:53] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 11:07:53] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 11:07:53] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 11:07:53] [config] vocabs:
[2019-03-26 11:07:53] [config]   - corp/vocab.encs.yml
[2019-03-26 11:07:53] [config]   - corp/vocab.encs.yml
[2019-03-26 11:07:53] [config] word-penalty: 0
[2019-03-26 11:07:53] [config] workspace: 8600
[2019-03-26 11:07:53] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 11:07:53] Using synchronous training
[2019-03-26 11:07:53] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 11:07:53] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 11:07:53] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 11:07:54] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 11:07:54] Error: File 'bt.encz.en.bpe' does not exist
[2019-03-26 11:07:54] Error: Aborted from marian::io::InputFileStream::InputFileStream(const string&) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/common/file_stream.h:139

[CALL STACK]
[0x4c644c]                                                            
[0x596a86]                                                            
[0x5b07dc]                                                            
[0x4a30a6]                                                            
[0x5058b1]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f6e40731b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2:  7790 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e $i --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
ITERATION 4
[2019-03-26 11:07:56] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 11:07:56] [marian] Running on spider3.lingea.cz as process 7796 with command line:
[2019-03-26 11:07:56] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e 4 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 11:07:56] [config] after-batches: 0
[2019-03-26 11:07:56] [config] after-epochs: 4
[2019-03-26 11:07:56] [config] allow-unk: false
[2019-03-26 11:07:56] [config] beam-size: 6
[2019-03-26 11:07:56] [config] best-deep: false
[2019-03-26 11:07:56] [config] clip-gemm: 0
[2019-03-26 11:07:56] [config] clip-norm: 5
[2019-03-26 11:07:56] [config] cost-type: ce-mean-words
[2019-03-26 11:07:56] [config] cpu-threads: 0
[2019-03-26 11:07:56] [config] data-weighting-type: sentence
[2019-03-26 11:07:56] [config] dec-cell: gru
[2019-03-26 11:07:56] [config] dec-cell-base-depth: 2
[2019-03-26 11:07:56] [config] dec-cell-high-depth: 1
[2019-03-26 11:07:56] [config] dec-depth: 6
[2019-03-26 11:07:56] [config] devices:
[2019-03-26 11:07:56] [config]   - 0
[2019-03-26 11:07:56] [config]   - 1
[2019-03-26 11:07:56] [config] dim-emb: 1024
[2019-03-26 11:07:56] [config] dim-rnn: 1024
[2019-03-26 11:07:56] [config] dim-vocabs:
[2019-03-26 11:07:56] [config]   - 34028
[2019-03-26 11:07:56] [config]   - 34028
[2019-03-26 11:07:56] [config] disp-first: 0
[2019-03-26 11:07:56] [config] disp-freq: 500
[2019-03-26 11:07:56] [config] disp-label-counts: false
[2019-03-26 11:07:56] [config] dropout-rnn: 0
[2019-03-26 11:07:56] [config] dropout-src: 0
[2019-03-26 11:07:56] [config] dropout-trg: 0
[2019-03-26 11:07:56] [config] early-stopping: 5
[2019-03-26 11:07:56] [config] embedding-fix-src: false
[2019-03-26 11:07:56] [config] embedding-fix-trg: false
[2019-03-26 11:07:56] [config] embedding-normalization: false
[2019-03-26 11:07:56] [config] enc-cell: gru
[2019-03-26 11:07:56] [config] enc-cell-depth: 1
[2019-03-26 11:07:56] [config] enc-depth: 6
[2019-03-26 11:07:56] [config] enc-type: bidirectional
[2019-03-26 11:07:56] [config] exponential-smoothing: 0.0001
[2019-03-26 11:07:56] [config] grad-dropping-momentum: 0
[2019-03-26 11:07:56] [config] grad-dropping-rate: 0
[2019-03-26 11:07:56] [config] grad-dropping-warmup: 100
[2019-03-26 11:07:56] [config] guided-alignment: none
[2019-03-26 11:07:56] [config] guided-alignment-cost: mse
[2019-03-26 11:07:56] [config] guided-alignment-weight: 0.1
[2019-03-26 11:07:56] [config] ignore-model-config: false
[2019-03-26 11:07:56] [config] interpolate-env-vars: false
[2019-03-26 11:07:56] [config] keep-best: true
[2019-03-26 11:07:56] [config] label-smoothing: 0.1
[2019-03-26 11:07:56] [config] layer-normalization: false
[2019-03-26 11:07:56] [config] learn-rate: 0.0002
[2019-03-26 11:07:56] [config] log: model/bt_encz.log
[2019-03-26 11:07:56] [config] log-level: info
[2019-03-26 11:07:56] [config] lr-decay: 0
[2019-03-26 11:07:56] [config] lr-decay-freq: 50000
[2019-03-26 11:07:56] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 11:07:56] [config] lr-decay-repeat-warmup: false
[2019-03-26 11:07:56] [config] lr-decay-reset-optimizer: false
[2019-03-26 11:07:56] [config] lr-decay-start:
[2019-03-26 11:07:56] [config]   - 10
[2019-03-26 11:07:56] [config]   - 1
[2019-03-26 11:07:56] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 11:07:56] [config] lr-report: true
[2019-03-26 11:07:56] [config] lr-warmup: 8000
[2019-03-26 11:07:56] [config] lr-warmup-at-reload: false
[2019-03-26 11:07:56] [config] lr-warmup-cycle: false
[2019-03-26 11:07:56] [config] lr-warmup-start-rate: 0
[2019-03-26 11:07:56] [config] max-length: 100
[2019-03-26 11:07:56] [config] max-length-crop: false
[2019-03-26 11:07:56] [config] max-length-factor: 3
[2019-03-26 11:07:56] [config] maxi-batch: 10000
[2019-03-26 11:07:56] [config] maxi-batch-sort: trg
[2019-03-26 11:07:56] [config] mini-batch: 1000
[2019-03-26 11:07:56] [config] mini-batch-fit: true
[2019-03-26 11:07:56] [config] mini-batch-fit-step: 10
[2019-03-26 11:07:56] [config] mini-batch-words: 0
[2019-03-26 11:07:56] [config] model: model/model_bt_encz.npz
[2019-03-26 11:07:56] [config] multi-node: false
[2019-03-26 11:07:56] [config] multi-node-overlap: true
[2019-03-26 11:07:56] [config] n-best: false
[2019-03-26 11:07:56] [config] no-nccl: true
[2019-03-26 11:07:56] [config] no-reload: false
[2019-03-26 11:07:56] [config] no-restore-corpus: false
[2019-03-26 11:07:56] [config] no-shuffle: false
[2019-03-26 11:07:56] [config] normalize: 0.6
[2019-03-26 11:07:56] [config] optimizer: adam
[2019-03-26 11:07:56] [config] optimizer-delay: 4
[2019-03-26 11:07:56] [config] optimizer-params:
[2019-03-26 11:07:56] [config]   - 0.9
[2019-03-26 11:07:56] [config]   - 0.98
[2019-03-26 11:07:56] [config]   - 1e-09
[2019-03-26 11:07:56] [config] overwrite: true
[2019-03-26 11:07:56] [config] quiet: false
[2019-03-26 11:07:56] [config] quiet-translation: true
[2019-03-26 11:07:56] [config] relative-paths: false
[2019-03-26 11:07:56] [config] right-left: false
[2019-03-26 11:07:56] [config] save-freq: 5000
[2019-03-26 11:07:56] [config] seed: 0
[2019-03-26 11:07:56] [config] sentencepiece-alphas:
[2019-03-26 11:07:56] [config]   []
[2019-03-26 11:07:56] [config] sentencepiece-max-lines: 10000000
[2019-03-26 11:07:56] [config] sentencepiece-options: ""
[2019-03-26 11:07:56] [config] shuffle-in-ram: false
[2019-03-26 11:07:56] [config] skip: false
[2019-03-26 11:07:56] [config] sqlite: temporary
[2019-03-26 11:07:56] [config] sqlite-drop: false
[2019-03-26 11:07:56] [config] sync-sgd: true
[2019-03-26 11:07:56] [config] tempdir: /tmp
[2019-03-26 11:07:56] [config] tied-embeddings: false
[2019-03-26 11:07:56] [config] tied-embeddings-all: true
[2019-03-26 11:07:56] [config] tied-embeddings-src: false
[2019-03-26 11:07:56] [config] train-sets:
[2019-03-26 11:07:56] [config]   - corpus+paracrawl.2M.en.bpe
[2019-03-26 11:07:56] [config]   - corpus+paracrawl.2M.cz.bpe
[2019-03-26 11:07:56] [config] transformer-aan-activation: swish
[2019-03-26 11:07:56] [config] transformer-aan-depth: 2
[2019-03-26 11:07:56] [config] transformer-aan-nogate: false
[2019-03-26 11:07:56] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 11:07:56] [config] transformer-dim-aan: 2048
[2019-03-26 11:07:56] [config] transformer-dim-ffn: 4096
[2019-03-26 11:07:56] [config] transformer-dropout: 0.1
[2019-03-26 11:07:56] [config] transformer-dropout-attention: 0.1
[2019-03-26 11:07:56] [config] transformer-dropout-ffn: 0.1
[2019-03-26 11:07:56] [config] transformer-ffn-activation: swish
[2019-03-26 11:07:56] [config] transformer-ffn-depth: 2
[2019-03-26 11:07:56] [config] transformer-guided-alignment-layer: last
[2019-03-26 11:07:56] [config] transformer-heads: 16
[2019-03-26 11:07:56] [config] transformer-no-projection: false
[2019-03-26 11:07:56] [config] transformer-postprocess: da
[2019-03-26 11:07:56] [config] transformer-postprocess-emb: d
[2019-03-26 11:07:56] [config] transformer-preprocess: n
[2019-03-26 11:07:56] [config] transformer-tied-layers:
[2019-03-26 11:07:56] [config]   []
[2019-03-26 11:07:56] [config] type: transformer
[2019-03-26 11:07:56] [config] ulr: false
[2019-03-26 11:07:56] [config] ulr-dim-emb: 0
[2019-03-26 11:07:56] [config] ulr-dropout: 0
[2019-03-26 11:07:56] [config] ulr-keys-vectors: ""
[2019-03-26 11:07:56] [config] ulr-query-vectors: ""
[2019-03-26 11:07:56] [config] ulr-softmax-temperature: 1
[2019-03-26 11:07:56] [config] ulr-trainable-transformation: false
[2019-03-26 11:07:56] [config] valid-freq: 5000
[2019-03-26 11:07:56] [config] valid-log: model/valid.log
[2019-03-26 11:07:56] [config] valid-max-length: 1000
[2019-03-26 11:07:56] [config] valid-metrics:
[2019-03-26 11:07:56] [config]   - ce-mean-words
[2019-03-26 11:07:56] [config]   - perplexity
[2019-03-26 11:07:56] [config]   - translation
[2019-03-26 11:07:56] [config] valid-mini-batch: 16
[2019-03-26 11:07:56] [config] valid-script-path: ./val.sh
[2019-03-26 11:07:56] [config] valid-sets:
[2019-03-26 11:07:56] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 11:07:56] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 11:07:56] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 11:07:56] [config] vocabs:
[2019-03-26 11:07:56] [config]   - corp/vocab.encs.yml
[2019-03-26 11:07:56] [config]   - corp/vocab.encs.yml
[2019-03-26 11:07:56] [config] word-penalty: 0
[2019-03-26 11:07:56] [config] workspace: 8600
[2019-03-26 11:07:56] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 11:07:56] Using synchronous training
[2019-03-26 11:07:56] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 11:07:56] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 11:07:56] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 11:07:57] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 11:07:57] [sqlite] Creating temporary database in /tmp
[2019-03-26 11:08:00] [sqlite] Inserted 1000000 lines
[2019-03-26 11:08:03] [sqlite] Inserted 2000000 lines
[2019-03-26 11:08:09] [sqlite] Inserted 4000000 lines
[2019-03-26 11:08:23] [sqlite] Inserted 8000000 lines
[2019-03-26 11:08:59] [sqlite] Inserted 16000000 lines
[2019-03-26 11:09:58] [sqlite] Inserted 32000000 lines
[2019-03-26 11:10:33] [sqlite] Inserted 41438108 lines
[2019-03-26 11:10:33] [sqlite] Creating primary index
[2019-03-26 11:11:27] [batching] Collecting statistics for batch fitting with step size 10
[2019-03-26 11:11:27] Compiled without MPI support. Falling back to FakeMPIWrapper
[2019-03-26 11:11:31] [memory] Extending reserved space to 8704 MB (device gpu0)
[2019-03-26 11:11:32] [memory] Extending reserved space to 8704 MB (device gpu1)
[2019-03-26 11:11:32] [comm] NCCL communicator overridden
[2019-03-26 11:11:32] [memory] Reserving 805 MB, device gpu0
[2019-03-26 11:11:33] [memory] Reserving 805 MB, device gpu0
[2019-03-26 11:11:44] [batching] Done
[2019-03-26 11:11:44] [memory] Extending reserved space to 8704 MB (device gpu0)
[2019-03-26 11:11:45] [memory] Extending reserved space to 8704 MB (device gpu1)
[2019-03-26 11:11:45] [comm] NCCL communicator overridden
[2019-03-26 11:11:45] Loading model from model/model_bt_encz.npz.orig.npz
[2019-03-26 11:11:53] Loading model from model/model_bt_encz.npz.orig.npz
[2019-03-26 11:11:55] Loading Adam parameters from model/model_bt_encz.npz.optimizer.npz
[2019-03-26 11:12:12] [memory] Reserving 805 MB, device gpu0
[2019-03-26 11:12:12] [memory] Reserving 805 MB, device gpu1
[2019-03-26 11:12:13] [data] Restoring the corpus state to epoch 2, batch 40000
[2019-03-26 11:12:47] [sqlite] Selecting shuffled data
[2019-03-26 11:20:08] Training started
[2019-03-26 11:20:08] [memory] Reserving 805 MB, device gpu0
[2019-03-26 11:20:09] [memory] Reserving 805 MB, device gpu1
[2019-03-26 11:20:09] Loading model from model/model_bt_encz.npz
[2019-03-26 11:20:17] [memory] Reserving 805 MB, device cpu0
[2019-03-26 11:20:17] [memory] Reserving 402 MB, device gpu0
[2019-03-26 11:20:18] [memory] Reserving 402 MB, device gpu1
[2019-03-26 11:20:18] [memory] Reserving 805 MB, device gpu0
[2019-03-26 11:20:18] [memory] Reserving 805 MB, device gpu1
[2019-03-26 11:20:19] [memory] Reserving 402 MB, device gpu0
[2019-03-26 11:20:19] [memory] Reserving 402 MB, device gpu1
[2019-03-26 11:38:22] Ep. 2 : Up. 40500 : Sen. 1,426,408 : Cost 3.03554034 : Time 1598.06s : 5532.63 words/s : L.r. 8.8889e-05
[2019-03-26 11:56:29] Ep. 2 : Up. 41000 : Sen. 1,953,351 : Cost 3.03560305 : Time 1087.10s : 8066.17 words/s : L.r. 8.8345e-05
[2019-03-26 12:14:39] Ep. 2 : Up. 41500 : Sen. 2,478,652 : Cost 3.02078009 : Time 1089.60s : 8078.92 words/s : L.r. 8.7811e-05
[2019-03-26 12:32:39] Ep. 2 : Up. 42000 : Sen. 2,974,890 : Cost 3.01749229 : Time 1080.14s : 8054.19 words/s : L.r. 8.7287e-05
[2019-03-26 12:50:36] Ep. 2 : Up. 42500 : Sen. 3,479,170 : Cost 3.03562212 : Time 1077.35s : 8008.77 words/s : L.r. 8.6772e-05
[2019-03-26 13:08:24] Ep. 2 : Up. 43000 : Sen. 4,003,946 : Cost 2.99579573 : Time 1067.14s : 7875.59 words/s : L.r. 8.6266e-05
[2019-03-26 13:26:17] Ep. 2 : Up. 43500 : Sen. 4,537,991 : Cost 3.02637506 : Time 1073.86s : 7982.43 words/s : L.r. 8.5769e-05
[2019-03-26 13:44:28] Ep. 2 : Up. 44000 : Sen. 5,065,190 : Cost 3.03556705 : Time 1090.58s : 8012.97 words/s : L.r. 8.5280e-05
[2019-03-26 14:02:26] Ep. 2 : Up. 44500 : Sen. 5,595,770 : Cost 3.03431582 : Time 1078.40s : 8032.42 words/s : L.r. 8.4800e-05
[2019-03-26 14:20:20] Ep. 2 : Up. 45000 : Sen. 6,133,162 : Cost 3.00226426 : Time 1073.16s : 7936.74 words/s : L.r. 8.4327e-05
[2019-03-26 14:20:20] Saving model weights and runtime parameters to model/model_bt_encz.npz.orig.npz
[2019-03-26 14:20:33] Saving model weights and runtime parameters to model/model_bt_encz.npz
[2019-03-26 14:20:46] Saving Adam parameters to model/model_bt_encz.npz.optimizer.npz
[2019-03-26 14:21:25] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-ce-mean-words.npz
[2019-03-26 14:21:37] [valid] Ep. 2 : Up. 45000 : ce-mean-words : 1.75895 : new best
[2019-03-26 14:21:41] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-perplexity.npz
[2019-03-26 14:21:54] [valid] Ep. 2 : Up. 45000 : perplexity : 5.80636 : new best
Detokenizer Version $Revision: 4134 $
Language: en
[2019-03-26 14:23:34] Saving model weights and runtime parameters to model/model_bt_encz.npz.best-translation.npz
[2019-03-26 14:23:47] [valid] Ep. 2 : Up. 45000 : translation : 24.84 : new best
train_bt_encs.sh: line 2:  7796 Terminated              $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e $e --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:26:29] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:26:29] [marian] Running on spider3.lingea.cz as process 16556 with command line:
[2019-03-26 14:26:29] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e 5 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:26:30] [config] after-batches: 0
[2019-03-26 14:26:30] [config] after-epochs: 5
[2019-03-26 14:26:30] [config] allow-unk: false
[2019-03-26 14:26:30] [config] beam-size: 6
[2019-03-26 14:26:30] [config] best-deep: false
[2019-03-26 14:26:30] [config] clip-gemm: 0
[2019-03-26 14:26:30] [config] clip-norm: 5
[2019-03-26 14:26:30] [config] cost-type: ce-mean-words
[2019-03-26 14:26:30] [config] cpu-threads: 0
[2019-03-26 14:26:30] [config] data-weighting-type: sentence
[2019-03-26 14:26:30] [config] dec-cell: gru
[2019-03-26 14:26:30] [config] dec-cell-base-depth: 2
[2019-03-26 14:26:30] [config] dec-cell-high-depth: 1
[2019-03-26 14:26:30] [config] dec-depth: 6
[2019-03-26 14:26:30] [config] devices:
[2019-03-26 14:26:30] [config]   - 0
[2019-03-26 14:26:30] [config]   - 1
[2019-03-26 14:26:30] [config] dim-emb: 1024
[2019-03-26 14:26:30] [config] dim-rnn: 1024
[2019-03-26 14:26:30] [config] dim-vocabs:
[2019-03-26 14:26:30] [config]   - 34028
[2019-03-26 14:26:30] [config]   - 34028
[2019-03-26 14:26:30] [config] disp-first: 0
[2019-03-26 14:26:30] [config] disp-freq: 500
[2019-03-26 14:26:30] [config] disp-label-counts: false
[2019-03-26 14:26:30] [config] dropout-rnn: 0
[2019-03-26 14:26:30] [config] dropout-src: 0
[2019-03-26 14:26:30] [config] dropout-trg: 0
[2019-03-26 14:26:30] [config] early-stopping: 5
[2019-03-26 14:26:30] [config] embedding-fix-src: false
[2019-03-26 14:26:30] [config] embedding-fix-trg: false
[2019-03-26 14:26:30] [config] embedding-normalization: false
[2019-03-26 14:26:30] [config] enc-cell: gru
[2019-03-26 14:26:30] [config] enc-cell-depth: 1
[2019-03-26 14:26:30] [config] enc-depth: 6
[2019-03-26 14:26:30] [config] enc-type: bidirectional
[2019-03-26 14:26:30] [config] exponential-smoothing: 0.0001
[2019-03-26 14:26:30] [config] grad-dropping-momentum: 0
[2019-03-26 14:26:30] [config] grad-dropping-rate: 0
[2019-03-26 14:26:30] [config] grad-dropping-warmup: 100
[2019-03-26 14:26:30] [config] guided-alignment: none
[2019-03-26 14:26:30] [config] guided-alignment-cost: mse
[2019-03-26 14:26:30] [config] guided-alignment-weight: 0.1
[2019-03-26 14:26:30] [config] ignore-model-config: false
[2019-03-26 14:26:30] [config] interpolate-env-vars: false
[2019-03-26 14:26:30] [config] keep-best: true
[2019-03-26 14:26:30] [config] label-smoothing: 0.1
[2019-03-26 14:26:30] [config] layer-normalization: false
[2019-03-26 14:26:30] [config] learn-rate: 0.0002
[2019-03-26 14:26:30] [config] log: model/bt_encz.log
[2019-03-26 14:26:30] [config] log-level: info
[2019-03-26 14:26:30] [config] lr-decay: 0
[2019-03-26 14:26:30] [config] lr-decay-freq: 50000
[2019-03-26 14:26:30] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:26:30] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:26:30] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:26:30] [config] lr-decay-start:
[2019-03-26 14:26:30] [config]   - 10
[2019-03-26 14:26:30] [config]   - 1
[2019-03-26 14:26:30] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:26:30] [config] lr-report: true
[2019-03-26 14:26:30] [config] lr-warmup: 8000
[2019-03-26 14:26:30] [config] lr-warmup-at-reload: false
[2019-03-26 14:26:30] [config] lr-warmup-cycle: false
[2019-03-26 14:26:30] [config] lr-warmup-start-rate: 0
[2019-03-26 14:26:30] [config] max-length: 100
[2019-03-26 14:26:30] [config] max-length-crop: false
[2019-03-26 14:26:30] [config] max-length-factor: 3
[2019-03-26 14:26:30] [config] maxi-batch: 10000
[2019-03-26 14:26:30] [config] maxi-batch-sort: trg
[2019-03-26 14:26:30] [config] mini-batch: 1000
[2019-03-26 14:26:30] [config] mini-batch-fit: true
[2019-03-26 14:26:30] [config] mini-batch-fit-step: 10
[2019-03-26 14:26:30] [config] mini-batch-words: 0
[2019-03-26 14:26:30] [config] model: model/model_bt_encz.npz
[2019-03-26 14:26:30] [config] multi-node: false
[2019-03-26 14:26:30] [config] multi-node-overlap: true
[2019-03-26 14:26:30] [config] n-best: false
[2019-03-26 14:26:30] [config] no-nccl: true
[2019-03-26 14:26:30] [config] no-reload: false
[2019-03-26 14:26:30] [config] no-restore-corpus: false
[2019-03-26 14:26:30] [config] no-shuffle: false
[2019-03-26 14:26:30] [config] normalize: 0.6
[2019-03-26 14:26:30] [config] optimizer: adam
[2019-03-26 14:26:30] [config] optimizer-delay: 4
[2019-03-26 14:26:30] [config] optimizer-params:
[2019-03-26 14:26:30] [config]   - 0.9
[2019-03-26 14:26:30] [config]   - 0.98
[2019-03-26 14:26:30] [config]   - 1e-09
[2019-03-26 14:26:30] [config] overwrite: true
[2019-03-26 14:26:30] [config] quiet: false
[2019-03-26 14:26:30] [config] quiet-translation: true
[2019-03-26 14:26:30] [config] relative-paths: false
[2019-03-26 14:26:30] [config] right-left: false
[2019-03-26 14:26:30] [config] save-freq: 5000
[2019-03-26 14:26:30] [config] seed: 0
[2019-03-26 14:26:30] [config] sentencepiece-alphas:
[2019-03-26 14:26:30] [config]   []
[2019-03-26 14:26:30] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:26:30] [config] sentencepiece-options: ""
[2019-03-26 14:26:30] [config] shuffle-in-ram: false
[2019-03-26 14:26:30] [config] skip: false
[2019-03-26 14:26:30] [config] sqlite: temporary
[2019-03-26 14:26:30] [config] sqlite-drop: false
[2019-03-26 14:26:30] [config] sync-sgd: true
[2019-03-26 14:26:30] [config] tempdir: /tmp
[2019-03-26 14:26:30] [config] tied-embeddings: false
[2019-03-26 14:26:30] [config] tied-embeddings-all: true
[2019-03-26 14:26:30] [config] tied-embeddings-src: false
[2019-03-26 14:26:30] [config] train-sets:
[2019-03-26 14:26:30] [config]   - bt.encz.en.bpe
[2019-03-26 14:26:30] [config]   - bt.encz.cz.bpe
[2019-03-26 14:26:30] [config] transformer-aan-activation: swish
[2019-03-26 14:26:30] [config] transformer-aan-depth: 2
[2019-03-26 14:26:30] [config] transformer-aan-nogate: false
[2019-03-26 14:26:30] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:26:30] [config] transformer-dim-aan: 2048
[2019-03-26 14:26:30] [config] transformer-dim-ffn: 4096
[2019-03-26 14:26:30] [config] transformer-dropout: 0.1
[2019-03-26 14:26:30] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:26:30] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:26:30] [config] transformer-ffn-activation: swish
[2019-03-26 14:26:30] [config] transformer-ffn-depth: 2
[2019-03-26 14:26:30] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:26:30] [config] transformer-heads: 16
[2019-03-26 14:26:30] [config] transformer-no-projection: false
[2019-03-26 14:26:30] [config] transformer-postprocess: da
[2019-03-26 14:26:30] [config] transformer-postprocess-emb: d
[2019-03-26 14:26:30] [config] transformer-preprocess: n
[2019-03-26 14:26:30] [config] transformer-tied-layers:
[2019-03-26 14:26:30] [config]   []
[2019-03-26 14:26:30] [config] type: transformer
[2019-03-26 14:26:30] [config] ulr: false
[2019-03-26 14:26:30] [config] ulr-dim-emb: 0
[2019-03-26 14:26:30] [config] ulr-dropout: 0
[2019-03-26 14:26:30] [config] ulr-keys-vectors: ""
[2019-03-26 14:26:30] [config] ulr-query-vectors: ""
[2019-03-26 14:26:30] [config] ulr-softmax-temperature: 1
[2019-03-26 14:26:30] [config] ulr-trainable-transformation: false
[2019-03-26 14:26:30] [config] valid-freq: 5000
[2019-03-26 14:26:30] [config] valid-log: model/valid.log
[2019-03-26 14:26:30] [config] valid-max-length: 1000
[2019-03-26 14:26:30] [config] valid-metrics:
[2019-03-26 14:26:30] [config]   - ce-mean-words
[2019-03-26 14:26:30] [config]   - perplexity
[2019-03-26 14:26:30] [config]   - translation
[2019-03-26 14:26:30] [config] valid-mini-batch: 16
[2019-03-26 14:26:30] [config] valid-script-path: val.sh
[2019-03-26 14:26:30] [config] valid-sets:
[2019-03-26 14:26:30] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:26:30] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:26:30] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:26:30] [config] vocabs:
[2019-03-26 14:26:30] [config]   - corp/vocab.encs.yml
[2019-03-26 14:26:30] [config]   - corp/vocab.encs.yml
[2019-03-26 14:26:30] [config] word-penalty: 0
[2019-03-26 14:26:30] [config] workspace: 8600
[2019-03-26 14:26:30] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:26:30] Using synchronous training
[2019-03-26 14:26:30] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:26:31] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:26:31] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:26:31] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:26:31] Error: File 'bt.encz.en.bpe' does not exist
[2019-03-26 14:26:31] Error: Aborted from marian::io::InputFileStream::InputFileStream(const string&) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/common/file_stream.h:139

[CALL STACK]
[0x4c644c]                                                            
[0x596a86]                                                            
[0x5b07dc]                                                            
[0x4a30a6]                                                            
[0x5058b1]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f5e23c99b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 16556 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e $i --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
ITERATION 5
[2019-03-26 14:26:34] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:26:34] [marian] Running on spider3.lingea.cz as process 16566 with command line:
[2019-03-26 14:26:34] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e 5 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:26:34] [config] after-batches: 0
[2019-03-26 14:26:34] [config] after-epochs: 5
[2019-03-26 14:26:34] [config] allow-unk: false
[2019-03-26 14:26:34] [config] beam-size: 6
[2019-03-26 14:26:34] [config] best-deep: false
[2019-03-26 14:26:34] [config] clip-gemm: 0
[2019-03-26 14:26:34] [config] clip-norm: 5
[2019-03-26 14:26:34] [config] cost-type: ce-mean-words
[2019-03-26 14:26:34] [config] cpu-threads: 0
[2019-03-26 14:26:34] [config] data-weighting-type: sentence
[2019-03-26 14:26:34] [config] dec-cell: gru
[2019-03-26 14:26:34] [config] dec-cell-base-depth: 2
[2019-03-26 14:26:34] [config] dec-cell-high-depth: 1
[2019-03-26 14:26:34] [config] dec-depth: 6
[2019-03-26 14:26:34] [config] devices:
[2019-03-26 14:26:34] [config]   - 0
[2019-03-26 14:26:34] [config]   - 1
[2019-03-26 14:26:34] [config] dim-emb: 1024
[2019-03-26 14:26:34] [config] dim-rnn: 1024
[2019-03-26 14:26:34] [config] dim-vocabs:
[2019-03-26 14:26:34] [config]   - 34028
[2019-03-26 14:26:34] [config]   - 34028
[2019-03-26 14:26:34] [config] disp-first: 0
[2019-03-26 14:26:34] [config] disp-freq: 500
[2019-03-26 14:26:34] [config] disp-label-counts: false
[2019-03-26 14:26:34] [config] dropout-rnn: 0
[2019-03-26 14:26:34] [config] dropout-src: 0
[2019-03-26 14:26:34] [config] dropout-trg: 0
[2019-03-26 14:26:34] [config] early-stopping: 5
[2019-03-26 14:26:34] [config] embedding-fix-src: false
[2019-03-26 14:26:34] [config] embedding-fix-trg: false
[2019-03-26 14:26:34] [config] embedding-normalization: false
[2019-03-26 14:26:34] [config] enc-cell: gru
[2019-03-26 14:26:34] [config] enc-cell-depth: 1
[2019-03-26 14:26:34] [config] enc-depth: 6
[2019-03-26 14:26:34] [config] enc-type: bidirectional
[2019-03-26 14:26:34] [config] exponential-smoothing: 0.0001
[2019-03-26 14:26:34] [config] grad-dropping-momentum: 0
[2019-03-26 14:26:34] [config] grad-dropping-rate: 0
[2019-03-26 14:26:34] [config] grad-dropping-warmup: 100
[2019-03-26 14:26:34] [config] guided-alignment: none
[2019-03-26 14:26:34] [config] guided-alignment-cost: mse
[2019-03-26 14:26:34] [config] guided-alignment-weight: 0.1
[2019-03-26 14:26:34] [config] ignore-model-config: false
[2019-03-26 14:26:34] [config] interpolate-env-vars: false
[2019-03-26 14:26:34] [config] keep-best: true
[2019-03-26 14:26:34] [config] label-smoothing: 0.1
[2019-03-26 14:26:34] [config] layer-normalization: false
[2019-03-26 14:26:34] [config] learn-rate: 0.0002
[2019-03-26 14:26:34] [config] log: model/bt_encz.log
[2019-03-26 14:26:34] [config] log-level: info
[2019-03-26 14:26:34] [config] lr-decay: 0
[2019-03-26 14:26:34] [config] lr-decay-freq: 50000
[2019-03-26 14:26:34] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:26:34] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:26:34] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:26:34] [config] lr-decay-start:
[2019-03-26 14:26:34] [config]   - 10
[2019-03-26 14:26:34] [config]   - 1
[2019-03-26 14:26:34] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:26:34] [config] lr-report: true
[2019-03-26 14:26:34] [config] lr-warmup: 8000
[2019-03-26 14:26:34] [config] lr-warmup-at-reload: false
[2019-03-26 14:26:34] [config] lr-warmup-cycle: false
[2019-03-26 14:26:34] [config] lr-warmup-start-rate: 0
[2019-03-26 14:26:34] [config] max-length: 100
[2019-03-26 14:26:34] [config] max-length-crop: false
[2019-03-26 14:26:34] [config] max-length-factor: 3
[2019-03-26 14:26:34] [config] maxi-batch: 10000
[2019-03-26 14:26:34] [config] maxi-batch-sort: trg
[2019-03-26 14:26:34] [config] mini-batch: 1000
[2019-03-26 14:26:34] [config] mini-batch-fit: true
[2019-03-26 14:26:34] [config] mini-batch-fit-step: 10
[2019-03-26 14:26:34] [config] mini-batch-words: 0
[2019-03-26 14:26:34] [config] model: model/model_bt_encz.npz
[2019-03-26 14:26:34] [config] multi-node: false
[2019-03-26 14:26:34] [config] multi-node-overlap: true
[2019-03-26 14:26:34] [config] n-best: false
[2019-03-26 14:26:34] [config] no-nccl: true
[2019-03-26 14:26:34] [config] no-reload: false
[2019-03-26 14:26:34] [config] no-restore-corpus: false
[2019-03-26 14:26:34] [config] no-shuffle: false
[2019-03-26 14:26:34] [config] normalize: 0.6
[2019-03-26 14:26:34] [config] optimizer: adam
[2019-03-26 14:26:34] [config] optimizer-delay: 4
[2019-03-26 14:26:34] [config] optimizer-params:
[2019-03-26 14:26:34] [config]   - 0.9
[2019-03-26 14:26:34] [config]   - 0.98
[2019-03-26 14:26:34] [config]   - 1e-09
[2019-03-26 14:26:34] [config] overwrite: true
[2019-03-26 14:26:34] [config] quiet: false
[2019-03-26 14:26:34] [config] quiet-translation: true
[2019-03-26 14:26:34] [config] relative-paths: false
[2019-03-26 14:26:34] [config] right-left: false
[2019-03-26 14:26:34] [config] save-freq: 5000
[2019-03-26 14:26:34] [config] seed: 0
[2019-03-26 14:26:34] [config] sentencepiece-alphas:
[2019-03-26 14:26:34] [config]   []
[2019-03-26 14:26:34] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:26:34] [config] sentencepiece-options: ""
[2019-03-26 14:26:34] [config] shuffle-in-ram: false
[2019-03-26 14:26:34] [config] skip: false
[2019-03-26 14:26:34] [config] sqlite: temporary
[2019-03-26 14:26:34] [config] sqlite-drop: false
[2019-03-26 14:26:34] [config] sync-sgd: true
[2019-03-26 14:26:34] [config] tempdir: /tmp
[2019-03-26 14:26:34] [config] tied-embeddings: false
[2019-03-26 14:26:34] [config] tied-embeddings-all: true
[2019-03-26 14:26:34] [config] tied-embeddings-src: false
[2019-03-26 14:26:34] [config] train-sets:
[2019-03-26 14:26:34] [config]   - corpus+paracrawl.2M.en.bpe
[2019-03-26 14:26:34] [config]   - corpus+paracrawl.2M.cz.bpe
[2019-03-26 14:26:34] [config] transformer-aan-activation: swish
[2019-03-26 14:26:34] [config] transformer-aan-depth: 2
[2019-03-26 14:26:34] [config] transformer-aan-nogate: false
[2019-03-26 14:26:34] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:26:34] [config] transformer-dim-aan: 2048
[2019-03-26 14:26:34] [config] transformer-dim-ffn: 4096
[2019-03-26 14:26:34] [config] transformer-dropout: 0.1
[2019-03-26 14:26:34] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:26:34] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:26:34] [config] transformer-ffn-activation: swish
[2019-03-26 14:26:34] [config] transformer-ffn-depth: 2
[2019-03-26 14:26:34] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:26:34] [config] transformer-heads: 16
[2019-03-26 14:26:34] [config] transformer-no-projection: false
[2019-03-26 14:26:34] [config] transformer-postprocess: da
[2019-03-26 14:26:34] [config] transformer-postprocess-emb: d
[2019-03-26 14:26:34] [config] transformer-preprocess: n
[2019-03-26 14:26:34] [config] transformer-tied-layers:
[2019-03-26 14:26:34] [config]   []
[2019-03-26 14:26:34] [config] type: transformer
[2019-03-26 14:26:34] [config] ulr: false
[2019-03-26 14:26:34] [config] ulr-dim-emb: 0
[2019-03-26 14:26:34] [config] ulr-dropout: 0
[2019-03-26 14:26:34] [config] ulr-keys-vectors: ""
[2019-03-26 14:26:34] [config] ulr-query-vectors: ""
[2019-03-26 14:26:34] [config] ulr-softmax-temperature: 1
[2019-03-26 14:26:34] [config] ulr-trainable-transformation: false
[2019-03-26 14:26:34] [config] valid-freq: 5000
[2019-03-26 14:26:34] [config] valid-log: model/valid.log
[2019-03-26 14:26:34] [config] valid-max-length: 1000
[2019-03-26 14:26:34] [config] valid-metrics:
[2019-03-26 14:26:34] [config]   - ce-mean-words
[2019-03-26 14:26:34] [config]   - perplexity
[2019-03-26 14:26:34] [config]   - translation
[2019-03-26 14:26:34] [config] valid-mini-batch: 16
[2019-03-26 14:26:34] [config] valid-script-path: ./val.sh
[2019-03-26 14:26:34] [config] valid-sets:
[2019-03-26 14:26:34] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:26:34] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:26:34] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:26:34] [config] vocabs:
[2019-03-26 14:26:34] [config]   - corp/vocab.encs.yml
[2019-03-26 14:26:34] [config]   - corp/vocab.encs.yml
[2019-03-26 14:26:34] [config] word-penalty: 0
[2019-03-26 14:26:34] [config] workspace: 8600
[2019-03-26 14:26:34] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:26:34] Using synchronous training
[2019-03-26 14:26:34] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:26:34] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:26:34] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:26:35] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:26:35] [sqlite] Creating temporary database in /tmp
[2019-03-26 14:26:38] [sqlite] Inserted 1000000 lines
[2019-03-26 14:26:41] [sqlite] Inserted 2000000 lines
[2019-03-26 14:26:47] [sqlite] Inserted 4000000 lines
[2019-03-26 14:27:00] [sqlite] Inserted 8000000 lines
[2019-03-26 14:27:32] [sqlite] Inserted 16000000 lines
[2019-03-26 14:28:55] [sqlite] Inserted 32000000 lines
[2019-03-26 14:29:30] [sqlite] Inserted 41438108 lines
[2019-03-26 14:29:30] [sqlite] Creating primary index
[2019-03-26 14:31:21] [batching] Collecting statistics for batch fitting with step size 10
[2019-03-26 14:31:21] Compiled without MPI support. Falling back to FakeMPIWrapper
[2019-03-26 14:31:21] [memory] Extending reserved space to 8704 MB (device gpu0)
[2019-03-26 14:31:21] Error: CUDA error 2 'out of memory' - /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38: cudaMalloc(&data_, size)
[2019-03-26 14:31:21] Error: Aborted from virtual void marian::gpu::Device::reserve(size_t) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38

[CALL STACK]
[0xa50f57]                                                            
[0x755b28]                                                            
[0x47ec84]                                                            
[0x505a1a]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7fec8e991b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 16566 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e $e --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
[2019-03-26 14:31:29] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:31:29] [marian] Running on spider3.lingea.cz as process 16891 with command line:
[2019-03-26 14:31:29] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e 6 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:31:29] [config] after-batches: 0
[2019-03-26 14:31:29] [config] after-epochs: 6
[2019-03-26 14:31:29] [config] allow-unk: false
[2019-03-26 14:31:29] [config] beam-size: 6
[2019-03-26 14:31:29] [config] best-deep: false
[2019-03-26 14:31:29] [config] clip-gemm: 0
[2019-03-26 14:31:29] [config] clip-norm: 5
[2019-03-26 14:31:29] [config] cost-type: ce-mean-words
[2019-03-26 14:31:29] [config] cpu-threads: 0
[2019-03-26 14:31:29] [config] data-weighting-type: sentence
[2019-03-26 14:31:29] [config] dec-cell: gru
[2019-03-26 14:31:29] [config] dec-cell-base-depth: 2
[2019-03-26 14:31:29] [config] dec-cell-high-depth: 1
[2019-03-26 14:31:29] [config] dec-depth: 6
[2019-03-26 14:31:29] [config] devices:
[2019-03-26 14:31:29] [config]   - 0
[2019-03-26 14:31:29] [config]   - 1
[2019-03-26 14:31:29] [config] dim-emb: 1024
[2019-03-26 14:31:29] [config] dim-rnn: 1024
[2019-03-26 14:31:29] [config] dim-vocabs:
[2019-03-26 14:31:29] [config]   - 34028
[2019-03-26 14:31:29] [config]   - 34028
[2019-03-26 14:31:29] [config] disp-first: 0
[2019-03-26 14:31:29] [config] disp-freq: 500
[2019-03-26 14:31:29] [config] disp-label-counts: false
[2019-03-26 14:31:29] [config] dropout-rnn: 0
[2019-03-26 14:31:29] [config] dropout-src: 0
[2019-03-26 14:31:29] [config] dropout-trg: 0
[2019-03-26 14:31:29] [config] early-stopping: 5
[2019-03-26 14:31:29] [config] embedding-fix-src: false
[2019-03-26 14:31:29] [config] embedding-fix-trg: false
[2019-03-26 14:31:29] [config] embedding-normalization: false
[2019-03-26 14:31:29] [config] enc-cell: gru
[2019-03-26 14:31:29] [config] enc-cell-depth: 1
[2019-03-26 14:31:29] [config] enc-depth: 6
[2019-03-26 14:31:29] [config] enc-type: bidirectional
[2019-03-26 14:31:29] [config] exponential-smoothing: 0.0001
[2019-03-26 14:31:29] [config] grad-dropping-momentum: 0
[2019-03-26 14:31:29] [config] grad-dropping-rate: 0
[2019-03-26 14:31:29] [config] grad-dropping-warmup: 100
[2019-03-26 14:31:29] [config] guided-alignment: none
[2019-03-26 14:31:29] [config] guided-alignment-cost: mse
[2019-03-26 14:31:29] [config] guided-alignment-weight: 0.1
[2019-03-26 14:31:29] [config] ignore-model-config: false
[2019-03-26 14:31:29] [config] interpolate-env-vars: false
[2019-03-26 14:31:29] [config] keep-best: true
[2019-03-26 14:31:29] [config] label-smoothing: 0.1
[2019-03-26 14:31:29] [config] layer-normalization: false
[2019-03-26 14:31:29] [config] learn-rate: 0.0002
[2019-03-26 14:31:29] [config] log: model/bt_encz.log
[2019-03-26 14:31:29] [config] log-level: info
[2019-03-26 14:31:29] [config] lr-decay: 0
[2019-03-26 14:31:29] [config] lr-decay-freq: 50000
[2019-03-26 14:31:29] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:31:29] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:31:29] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:31:29] [config] lr-decay-start:
[2019-03-26 14:31:29] [config]   - 10
[2019-03-26 14:31:29] [config]   - 1
[2019-03-26 14:31:29] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:31:29] [config] lr-report: true
[2019-03-26 14:31:29] [config] lr-warmup: 8000
[2019-03-26 14:31:29] [config] lr-warmup-at-reload: false
[2019-03-26 14:31:29] [config] lr-warmup-cycle: false
[2019-03-26 14:31:29] [config] lr-warmup-start-rate: 0
[2019-03-26 14:31:29] [config] max-length: 100
[2019-03-26 14:31:29] [config] max-length-crop: false
[2019-03-26 14:31:29] [config] max-length-factor: 3
[2019-03-26 14:31:29] [config] maxi-batch: 10000
[2019-03-26 14:31:29] [config] maxi-batch-sort: trg
[2019-03-26 14:31:29] [config] mini-batch: 1000
[2019-03-26 14:31:29] [config] mini-batch-fit: true
[2019-03-26 14:31:29] [config] mini-batch-fit-step: 10
[2019-03-26 14:31:29] [config] mini-batch-words: 0
[2019-03-26 14:31:29] [config] model: model/model_bt_encz.npz
[2019-03-26 14:31:29] [config] multi-node: false
[2019-03-26 14:31:29] [config] multi-node-overlap: true
[2019-03-26 14:31:29] [config] n-best: false
[2019-03-26 14:31:29] [config] no-nccl: true
[2019-03-26 14:31:29] [config] no-reload: false
[2019-03-26 14:31:29] [config] no-restore-corpus: false
[2019-03-26 14:31:29] [config] no-shuffle: false
[2019-03-26 14:31:29] [config] normalize: 0.6
[2019-03-26 14:31:29] [config] optimizer: adam
[2019-03-26 14:31:29] [config] optimizer-delay: 4
[2019-03-26 14:31:29] [config] optimizer-params:
[2019-03-26 14:31:29] [config]   - 0.9
[2019-03-26 14:31:29] [config]   - 0.98
[2019-03-26 14:31:29] [config]   - 1e-09
[2019-03-26 14:31:29] [config] overwrite: true
[2019-03-26 14:31:29] [config] quiet: false
[2019-03-26 14:31:29] [config] quiet-translation: true
[2019-03-26 14:31:29] [config] relative-paths: false
[2019-03-26 14:31:29] [config] right-left: false
[2019-03-26 14:31:29] [config] save-freq: 5000
[2019-03-26 14:31:29] [config] seed: 0
[2019-03-26 14:31:29] [config] sentencepiece-alphas:
[2019-03-26 14:31:29] [config]   []
[2019-03-26 14:31:29] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:31:29] [config] sentencepiece-options: ""
[2019-03-26 14:31:29] [config] shuffle-in-ram: false
[2019-03-26 14:31:29] [config] skip: false
[2019-03-26 14:31:29] [config] sqlite: temporary
[2019-03-26 14:31:29] [config] sqlite-drop: false
[2019-03-26 14:31:29] [config] sync-sgd: true
[2019-03-26 14:31:29] [config] tempdir: /tmp
[2019-03-26 14:31:29] [config] tied-embeddings: false
[2019-03-26 14:31:29] [config] tied-embeddings-all: true
[2019-03-26 14:31:29] [config] tied-embeddings-src: false
[2019-03-26 14:31:29] [config] train-sets:
[2019-03-26 14:31:29] [config]   - bt.encz.en.bpe
[2019-03-26 14:31:29] [config]   - bt.encz.cz.bpe
[2019-03-26 14:31:29] [config] transformer-aan-activation: swish
[2019-03-26 14:31:29] [config] transformer-aan-depth: 2
[2019-03-26 14:31:29] [config] transformer-aan-nogate: false
[2019-03-26 14:31:29] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:31:29] [config] transformer-dim-aan: 2048
[2019-03-26 14:31:29] [config] transformer-dim-ffn: 4096
[2019-03-26 14:31:29] [config] transformer-dropout: 0.1
[2019-03-26 14:31:29] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:31:29] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:31:29] [config] transformer-ffn-activation: swish
[2019-03-26 14:31:29] [config] transformer-ffn-depth: 2
[2019-03-26 14:31:29] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:31:29] [config] transformer-heads: 16
[2019-03-26 14:31:29] [config] transformer-no-projection: false
[2019-03-26 14:31:29] [config] transformer-postprocess: da
[2019-03-26 14:31:29] [config] transformer-postprocess-emb: d
[2019-03-26 14:31:29] [config] transformer-preprocess: n
[2019-03-26 14:31:29] [config] transformer-tied-layers:
[2019-03-26 14:31:29] [config]   []
[2019-03-26 14:31:29] [config] type: transformer
[2019-03-26 14:31:29] [config] ulr: false
[2019-03-26 14:31:29] [config] ulr-dim-emb: 0
[2019-03-26 14:31:29] [config] ulr-dropout: 0
[2019-03-26 14:31:29] [config] ulr-keys-vectors: ""
[2019-03-26 14:31:29] [config] ulr-query-vectors: ""
[2019-03-26 14:31:29] [config] ulr-softmax-temperature: 1
[2019-03-26 14:31:29] [config] ulr-trainable-transformation: false
[2019-03-26 14:31:29] [config] valid-freq: 5000
[2019-03-26 14:31:29] [config] valid-log: model/valid.log
[2019-03-26 14:31:29] [config] valid-max-length: 1000
[2019-03-26 14:31:29] [config] valid-metrics:
[2019-03-26 14:31:29] [config]   - ce-mean-words
[2019-03-26 14:31:29] [config]   - perplexity
[2019-03-26 14:31:29] [config]   - translation
[2019-03-26 14:31:29] [config] valid-mini-batch: 16
[2019-03-26 14:31:29] [config] valid-script-path: val.sh
[2019-03-26 14:31:29] [config] valid-sets:
[2019-03-26 14:31:29] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:31:29] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:31:29] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:31:29] [config] vocabs:
[2019-03-26 14:31:29] [config]   - corp/vocab.encs.yml
[2019-03-26 14:31:29] [config]   - corp/vocab.encs.yml
[2019-03-26 14:31:29] [config] word-penalty: 0
[2019-03-26 14:31:29] [config] workspace: 8600
[2019-03-26 14:31:29] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:31:29] Using synchronous training
[2019-03-26 14:31:29] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:31:29] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:31:29] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:31:29] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:31:29] Error: File 'bt.encz.en.bpe' does not exist
[2019-03-26 14:31:29] Error: Aborted from marian::io::InputFileStream::InputFileStream(const string&) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/common/file_stream.h:139

[CALL STACK]
[0x4c644c]                                                            
[0x596a86]                                                            
[0x5b07dc]                                                            
[0x4a30a6]                                                            
[0x5058b1]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7fe85c6a9b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 16891 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e $i --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
ITERATION 6
[2019-03-26 14:31:30] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:31:30] [marian] Running on spider3.lingea.cz as process 16894 with command line:
[2019-03-26 14:31:30] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e 6 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:31:30] [config] after-batches: 0
[2019-03-26 14:31:30] [config] after-epochs: 6
[2019-03-26 14:31:30] [config] allow-unk: false
[2019-03-26 14:31:30] [config] beam-size: 6
[2019-03-26 14:31:30] [config] best-deep: false
[2019-03-26 14:31:30] [config] clip-gemm: 0
[2019-03-26 14:31:30] [config] clip-norm: 5
[2019-03-26 14:31:30] [config] cost-type: ce-mean-words
[2019-03-26 14:31:30] [config] cpu-threads: 0
[2019-03-26 14:31:30] [config] data-weighting-type: sentence
[2019-03-26 14:31:30] [config] dec-cell: gru
[2019-03-26 14:31:30] [config] dec-cell-base-depth: 2
[2019-03-26 14:31:30] [config] dec-cell-high-depth: 1
[2019-03-26 14:31:30] [config] dec-depth: 6
[2019-03-26 14:31:30] [config] devices:
[2019-03-26 14:31:30] [config]   - 0
[2019-03-26 14:31:30] [config]   - 1
[2019-03-26 14:31:30] [config] dim-emb: 1024
[2019-03-26 14:31:30] [config] dim-rnn: 1024
[2019-03-26 14:31:30] [config] dim-vocabs:
[2019-03-26 14:31:30] [config]   - 34028
[2019-03-26 14:31:30] [config]   - 34028
[2019-03-26 14:31:30] [config] disp-first: 0
[2019-03-26 14:31:30] [config] disp-freq: 500
[2019-03-26 14:31:30] [config] disp-label-counts: false
[2019-03-26 14:31:30] [config] dropout-rnn: 0
[2019-03-26 14:31:30] [config] dropout-src: 0
[2019-03-26 14:31:30] [config] dropout-trg: 0
[2019-03-26 14:31:30] [config] early-stopping: 5
[2019-03-26 14:31:30] [config] embedding-fix-src: false
[2019-03-26 14:31:30] [config] embedding-fix-trg: false
[2019-03-26 14:31:30] [config] embedding-normalization: false
[2019-03-26 14:31:30] [config] enc-cell: gru
[2019-03-26 14:31:30] [config] enc-cell-depth: 1
[2019-03-26 14:31:30] [config] enc-depth: 6
[2019-03-26 14:31:30] [config] enc-type: bidirectional
[2019-03-26 14:31:30] [config] exponential-smoothing: 0.0001
[2019-03-26 14:31:30] [config] grad-dropping-momentum: 0
[2019-03-26 14:31:30] [config] grad-dropping-rate: 0
[2019-03-26 14:31:30] [config] grad-dropping-warmup: 100
[2019-03-26 14:31:30] [config] guided-alignment: none
[2019-03-26 14:31:30] [config] guided-alignment-cost: mse
[2019-03-26 14:31:30] [config] guided-alignment-weight: 0.1
[2019-03-26 14:31:30] [config] ignore-model-config: false
[2019-03-26 14:31:30] [config] interpolate-env-vars: false
[2019-03-26 14:31:30] [config] keep-best: true
[2019-03-26 14:31:30] [config] label-smoothing: 0.1
[2019-03-26 14:31:30] [config] layer-normalization: false
[2019-03-26 14:31:30] [config] learn-rate: 0.0002
[2019-03-26 14:31:30] [config] log: model/bt_encz.log
[2019-03-26 14:31:30] [config] log-level: info
[2019-03-26 14:31:30] [config] lr-decay: 0
[2019-03-26 14:31:30] [config] lr-decay-freq: 50000
[2019-03-26 14:31:30] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:31:30] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:31:30] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:31:30] [config] lr-decay-start:
[2019-03-26 14:31:30] [config]   - 10
[2019-03-26 14:31:30] [config]   - 1
[2019-03-26 14:31:30] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:31:30] [config] lr-report: true
[2019-03-26 14:31:30] [config] lr-warmup: 8000
[2019-03-26 14:31:30] [config] lr-warmup-at-reload: false
[2019-03-26 14:31:30] [config] lr-warmup-cycle: false
[2019-03-26 14:31:30] [config] lr-warmup-start-rate: 0
[2019-03-26 14:31:30] [config] max-length: 100
[2019-03-26 14:31:30] [config] max-length-crop: false
[2019-03-26 14:31:30] [config] max-length-factor: 3
[2019-03-26 14:31:30] [config] maxi-batch: 10000
[2019-03-26 14:31:30] [config] maxi-batch-sort: trg
[2019-03-26 14:31:30] [config] mini-batch: 1000
[2019-03-26 14:31:30] [config] mini-batch-fit: true
[2019-03-26 14:31:30] [config] mini-batch-fit-step: 10
[2019-03-26 14:31:30] [config] mini-batch-words: 0
[2019-03-26 14:31:30] [config] model: model/model_bt_encz.npz
[2019-03-26 14:31:30] [config] multi-node: false
[2019-03-26 14:31:30] [config] multi-node-overlap: true
[2019-03-26 14:31:30] [config] n-best: false
[2019-03-26 14:31:30] [config] no-nccl: true
[2019-03-26 14:31:30] [config] no-reload: false
[2019-03-26 14:31:30] [config] no-restore-corpus: false
[2019-03-26 14:31:30] [config] no-shuffle: false
[2019-03-26 14:31:30] [config] normalize: 0.6
[2019-03-26 14:31:30] [config] optimizer: adam
[2019-03-26 14:31:30] [config] optimizer-delay: 4
[2019-03-26 14:31:30] [config] optimizer-params:
[2019-03-26 14:31:30] [config]   - 0.9
[2019-03-26 14:31:30] [config]   - 0.98
[2019-03-26 14:31:30] [config]   - 1e-09
[2019-03-26 14:31:30] [config] overwrite: true
[2019-03-26 14:31:30] [config] quiet: false
[2019-03-26 14:31:30] [config] quiet-translation: true
[2019-03-26 14:31:30] [config] relative-paths: false
[2019-03-26 14:31:30] [config] right-left: false
[2019-03-26 14:31:30] [config] save-freq: 5000
[2019-03-26 14:31:30] [config] seed: 0
[2019-03-26 14:31:30] [config] sentencepiece-alphas:
[2019-03-26 14:31:30] [config]   []
[2019-03-26 14:31:30] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:31:30] [config] sentencepiece-options: ""
[2019-03-26 14:31:30] [config] shuffle-in-ram: false
[2019-03-26 14:31:30] [config] skip: false
[2019-03-26 14:31:30] [config] sqlite: temporary
[2019-03-26 14:31:30] [config] sqlite-drop: false
[2019-03-26 14:31:30] [config] sync-sgd: true
[2019-03-26 14:31:30] [config] tempdir: /tmp
[2019-03-26 14:31:30] [config] tied-embeddings: false
[2019-03-26 14:31:30] [config] tied-embeddings-all: true
[2019-03-26 14:31:30] [config] tied-embeddings-src: false
[2019-03-26 14:31:30] [config] train-sets:
[2019-03-26 14:31:30] [config]   - corpus+paracrawl.2M.en.bpe
[2019-03-26 14:31:30] [config]   - corpus+paracrawl.2M.cz.bpe
[2019-03-26 14:31:30] [config] transformer-aan-activation: swish
[2019-03-26 14:31:30] [config] transformer-aan-depth: 2
[2019-03-26 14:31:30] [config] transformer-aan-nogate: false
[2019-03-26 14:31:30] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:31:30] [config] transformer-dim-aan: 2048
[2019-03-26 14:31:30] [config] transformer-dim-ffn: 4096
[2019-03-26 14:31:30] [config] transformer-dropout: 0.1
[2019-03-26 14:31:30] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:31:30] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:31:30] [config] transformer-ffn-activation: swish
[2019-03-26 14:31:30] [config] transformer-ffn-depth: 2
[2019-03-26 14:31:30] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:31:30] [config] transformer-heads: 16
[2019-03-26 14:31:30] [config] transformer-no-projection: false
[2019-03-26 14:31:30] [config] transformer-postprocess: da
[2019-03-26 14:31:30] [config] transformer-postprocess-emb: d
[2019-03-26 14:31:30] [config] transformer-preprocess: n
[2019-03-26 14:31:30] [config] transformer-tied-layers:
[2019-03-26 14:31:30] [config]   []
[2019-03-26 14:31:30] [config] type: transformer
[2019-03-26 14:31:30] [config] ulr: false
[2019-03-26 14:31:30] [config] ulr-dim-emb: 0
[2019-03-26 14:31:30] [config] ulr-dropout: 0
[2019-03-26 14:31:30] [config] ulr-keys-vectors: ""
[2019-03-26 14:31:30] [config] ulr-query-vectors: ""
[2019-03-26 14:31:30] [config] ulr-softmax-temperature: 1
[2019-03-26 14:31:30] [config] ulr-trainable-transformation: false
[2019-03-26 14:31:30] [config] valid-freq: 5000
[2019-03-26 14:31:30] [config] valid-log: model/valid.log
[2019-03-26 14:31:30] [config] valid-max-length: 1000
[2019-03-26 14:31:30] [config] valid-metrics:
[2019-03-26 14:31:30] [config]   - ce-mean-words
[2019-03-26 14:31:30] [config]   - perplexity
[2019-03-26 14:31:30] [config]   - translation
[2019-03-26 14:31:30] [config] valid-mini-batch: 16
[2019-03-26 14:31:30] [config] valid-script-path: ./val.sh
[2019-03-26 14:31:30] [config] valid-sets:
[2019-03-26 14:31:30] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:31:30] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:31:30] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:31:30] [config] vocabs:
[2019-03-26 14:31:30] [config]   - corp/vocab.encs.yml
[2019-03-26 14:31:30] [config]   - corp/vocab.encs.yml
[2019-03-26 14:31:30] [config] word-penalty: 0
[2019-03-26 14:31:30] [config] workspace: 8600
[2019-03-26 14:31:30] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:31:30] Using synchronous training
[2019-03-26 14:31:30] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:31:30] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:31:30] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:31:31] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:31:31] [sqlite] Creating temporary database in /tmp
[2019-03-26 14:31:34] [sqlite] Inserted 1000000 lines
[2019-03-26 14:31:37] [sqlite] Inserted 2000000 lines
[2019-03-26 14:31:43] [sqlite] Inserted 4000000 lines
[2019-03-26 14:31:56] [sqlite] Inserted 8000000 lines
[2019-03-26 14:32:26] [sqlite] Inserted 16000000 lines
[2019-03-26 14:33:26] [sqlite] Inserted 32000000 lines
[2019-03-26 14:34:01] [sqlite] Inserted 41438108 lines
[2019-03-26 14:34:01] [sqlite] Creating primary index
[2019-03-26 14:34:57] [batching] Collecting statistics for batch fitting with step size 10
[2019-03-26 14:34:57] Compiled without MPI support. Falling back to FakeMPIWrapper
[2019-03-26 14:34:58] [memory] Extending reserved space to 8704 MB (device gpu0)
[2019-03-26 14:34:58] Error: CUDA error 2 'out of memory' - /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38: cudaMalloc(&data_, size)
[2019-03-26 14:34:58] Error: Aborted from virtual void marian::gpu::Device::reserve(size_t) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38

[CALL STACK]
[0xa50f57]                                                            
[0x755b28]                                                            
[0x47ec84]                                                            
[0x505a1a]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f8eb54b9b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 16894 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e $e --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
[2019-03-26 14:35:05] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:35:05] [marian] Running on spider3.lingea.cz as process 17051 with command line:
[2019-03-26 14:35:05] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e 7 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:35:05] [config] after-batches: 0
[2019-03-26 14:35:05] [config] after-epochs: 7
[2019-03-26 14:35:05] [config] allow-unk: false
[2019-03-26 14:35:05] [config] beam-size: 6
[2019-03-26 14:35:05] [config] best-deep: false
[2019-03-26 14:35:05] [config] clip-gemm: 0
[2019-03-26 14:35:05] [config] clip-norm: 5
[2019-03-26 14:35:05] [config] cost-type: ce-mean-words
[2019-03-26 14:35:05] [config] cpu-threads: 0
[2019-03-26 14:35:05] [config] data-weighting-type: sentence
[2019-03-26 14:35:05] [config] dec-cell: gru
[2019-03-26 14:35:05] [config] dec-cell-base-depth: 2
[2019-03-26 14:35:05] [config] dec-cell-high-depth: 1
[2019-03-26 14:35:05] [config] dec-depth: 6
[2019-03-26 14:35:05] [config] devices:
[2019-03-26 14:35:05] [config]   - 0
[2019-03-26 14:35:05] [config]   - 1
[2019-03-26 14:35:05] [config] dim-emb: 1024
[2019-03-26 14:35:05] [config] dim-rnn: 1024
[2019-03-26 14:35:05] [config] dim-vocabs:
[2019-03-26 14:35:05] [config]   - 34028
[2019-03-26 14:35:05] [config]   - 34028
[2019-03-26 14:35:05] [config] disp-first: 0
[2019-03-26 14:35:05] [config] disp-freq: 500
[2019-03-26 14:35:05] [config] disp-label-counts: false
[2019-03-26 14:35:05] [config] dropout-rnn: 0
[2019-03-26 14:35:05] [config] dropout-src: 0
[2019-03-26 14:35:05] [config] dropout-trg: 0
[2019-03-26 14:35:05] [config] early-stopping: 5
[2019-03-26 14:35:05] [config] embedding-fix-src: false
[2019-03-26 14:35:05] [config] embedding-fix-trg: false
[2019-03-26 14:35:05] [config] embedding-normalization: false
[2019-03-26 14:35:05] [config] enc-cell: gru
[2019-03-26 14:35:05] [config] enc-cell-depth: 1
[2019-03-26 14:35:05] [config] enc-depth: 6
[2019-03-26 14:35:05] [config] enc-type: bidirectional
[2019-03-26 14:35:05] [config] exponential-smoothing: 0.0001
[2019-03-26 14:35:05] [config] grad-dropping-momentum: 0
[2019-03-26 14:35:05] [config] grad-dropping-rate: 0
[2019-03-26 14:35:05] [config] grad-dropping-warmup: 100
[2019-03-26 14:35:05] [config] guided-alignment: none
[2019-03-26 14:35:05] [config] guided-alignment-cost: mse
[2019-03-26 14:35:05] [config] guided-alignment-weight: 0.1
[2019-03-26 14:35:05] [config] ignore-model-config: false
[2019-03-26 14:35:05] [config] interpolate-env-vars: false
[2019-03-26 14:35:05] [config] keep-best: true
[2019-03-26 14:35:05] [config] label-smoothing: 0.1
[2019-03-26 14:35:05] [config] layer-normalization: false
[2019-03-26 14:35:05] [config] learn-rate: 0.0002
[2019-03-26 14:35:05] [config] log: model/bt_encz.log
[2019-03-26 14:35:05] [config] log-level: info
[2019-03-26 14:35:05] [config] lr-decay: 0
[2019-03-26 14:35:05] [config] lr-decay-freq: 50000
[2019-03-26 14:35:05] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:35:05] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:35:05] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:35:05] [config] lr-decay-start:
[2019-03-26 14:35:05] [config]   - 10
[2019-03-26 14:35:05] [config]   - 1
[2019-03-26 14:35:05] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:35:05] [config] lr-report: true
[2019-03-26 14:35:05] [config] lr-warmup: 8000
[2019-03-26 14:35:05] [config] lr-warmup-at-reload: false
[2019-03-26 14:35:05] [config] lr-warmup-cycle: false
[2019-03-26 14:35:05] [config] lr-warmup-start-rate: 0
[2019-03-26 14:35:05] [config] max-length: 100
[2019-03-26 14:35:05] [config] max-length-crop: false
[2019-03-26 14:35:05] [config] max-length-factor: 3
[2019-03-26 14:35:05] [config] maxi-batch: 10000
[2019-03-26 14:35:05] [config] maxi-batch-sort: trg
[2019-03-26 14:35:05] [config] mini-batch: 1000
[2019-03-26 14:35:05] [config] mini-batch-fit: true
[2019-03-26 14:35:05] [config] mini-batch-fit-step: 10
[2019-03-26 14:35:05] [config] mini-batch-words: 0
[2019-03-26 14:35:05] [config] model: model/model_bt_encz.npz
[2019-03-26 14:35:05] [config] multi-node: false
[2019-03-26 14:35:05] [config] multi-node-overlap: true
[2019-03-26 14:35:05] [config] n-best: false
[2019-03-26 14:35:05] [config] no-nccl: true
[2019-03-26 14:35:05] [config] no-reload: false
[2019-03-26 14:35:05] [config] no-restore-corpus: false
[2019-03-26 14:35:05] [config] no-shuffle: false
[2019-03-26 14:35:05] [config] normalize: 0.6
[2019-03-26 14:35:05] [config] optimizer: adam
[2019-03-26 14:35:05] [config] optimizer-delay: 4
[2019-03-26 14:35:05] [config] optimizer-params:
[2019-03-26 14:35:05] [config]   - 0.9
[2019-03-26 14:35:05] [config]   - 0.98
[2019-03-26 14:35:05] [config]   - 1e-09
[2019-03-26 14:35:05] [config] overwrite: true
[2019-03-26 14:35:05] [config] quiet: false
[2019-03-26 14:35:05] [config] quiet-translation: true
[2019-03-26 14:35:05] [config] relative-paths: false
[2019-03-26 14:35:05] [config] right-left: false
[2019-03-26 14:35:05] [config] save-freq: 5000
[2019-03-26 14:35:05] [config] seed: 0
[2019-03-26 14:35:05] [config] sentencepiece-alphas:
[2019-03-26 14:35:05] [config]   []
[2019-03-26 14:35:05] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:35:05] [config] sentencepiece-options: ""
[2019-03-26 14:35:05] [config] shuffle-in-ram: false
[2019-03-26 14:35:05] [config] skip: false
[2019-03-26 14:35:05] [config] sqlite: temporary
[2019-03-26 14:35:05] [config] sqlite-drop: false
[2019-03-26 14:35:05] [config] sync-sgd: true
[2019-03-26 14:35:05] [config] tempdir: /tmp
[2019-03-26 14:35:05] [config] tied-embeddings: false
[2019-03-26 14:35:05] [config] tied-embeddings-all: true
[2019-03-26 14:35:05] [config] tied-embeddings-src: false
[2019-03-26 14:35:05] [config] train-sets:
[2019-03-26 14:35:05] [config]   - bt.encz.en.bpe
[2019-03-26 14:35:05] [config]   - bt.encz.cz.bpe
[2019-03-26 14:35:05] [config] transformer-aan-activation: swish
[2019-03-26 14:35:05] [config] transformer-aan-depth: 2
[2019-03-26 14:35:05] [config] transformer-aan-nogate: false
[2019-03-26 14:35:05] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:35:05] [config] transformer-dim-aan: 2048
[2019-03-26 14:35:05] [config] transformer-dim-ffn: 4096
[2019-03-26 14:35:05] [config] transformer-dropout: 0.1
[2019-03-26 14:35:05] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:35:05] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:35:05] [config] transformer-ffn-activation: swish
[2019-03-26 14:35:05] [config] transformer-ffn-depth: 2
[2019-03-26 14:35:05] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:35:05] [config] transformer-heads: 16
[2019-03-26 14:35:05] [config] transformer-no-projection: false
[2019-03-26 14:35:05] [config] transformer-postprocess: da
[2019-03-26 14:35:05] [config] transformer-postprocess-emb: d
[2019-03-26 14:35:05] [config] transformer-preprocess: n
[2019-03-26 14:35:05] [config] transformer-tied-layers:
[2019-03-26 14:35:05] [config]   []
[2019-03-26 14:35:05] [config] type: transformer
[2019-03-26 14:35:05] [config] ulr: false
[2019-03-26 14:35:05] [config] ulr-dim-emb: 0
[2019-03-26 14:35:05] [config] ulr-dropout: 0
[2019-03-26 14:35:05] [config] ulr-keys-vectors: ""
[2019-03-26 14:35:05] [config] ulr-query-vectors: ""
[2019-03-26 14:35:05] [config] ulr-softmax-temperature: 1
[2019-03-26 14:35:05] [config] ulr-trainable-transformation: false
[2019-03-26 14:35:05] [config] valid-freq: 5000
[2019-03-26 14:35:05] [config] valid-log: model/valid.log
[2019-03-26 14:35:05] [config] valid-max-length: 1000
[2019-03-26 14:35:05] [config] valid-metrics:
[2019-03-26 14:35:05] [config]   - ce-mean-words
[2019-03-26 14:35:05] [config]   - perplexity
[2019-03-26 14:35:05] [config]   - translation
[2019-03-26 14:35:05] [config] valid-mini-batch: 16
[2019-03-26 14:35:05] [config] valid-script-path: val.sh
[2019-03-26 14:35:05] [config] valid-sets:
[2019-03-26 14:35:05] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:35:05] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:35:05] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:35:05] [config] vocabs:
[2019-03-26 14:35:05] [config]   - corp/vocab.encs.yml
[2019-03-26 14:35:05] [config]   - corp/vocab.encs.yml
[2019-03-26 14:35:05] [config] word-penalty: 0
[2019-03-26 14:35:05] [config] workspace: 8600
[2019-03-26 14:35:05] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:35:05] Using synchronous training
[2019-03-26 14:35:05] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:35:06] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:35:06] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:35:06] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:35:06] Error: File 'bt.encz.en.bpe' does not exist
[2019-03-26 14:35:06] Error: Aborted from marian::io::InputFileStream::InputFileStream(const string&) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/common/file_stream.h:139

[CALL STACK]
[0x4c644c]                                                            
[0x596a86]                                                            
[0x5b07dc]                                                            
[0x4a30a6]                                                            
[0x5058b1]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7fe3bfca1b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 17051 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e $i --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
ITERATION 7
[2019-03-26 14:35:07] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:35:07] [marian] Running on spider3.lingea.cz as process 17054 with command line:
[2019-03-26 14:35:07] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e 7 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:35:07] [config] after-batches: 0
[2019-03-26 14:35:07] [config] after-epochs: 7
[2019-03-26 14:35:07] [config] allow-unk: false
[2019-03-26 14:35:07] [config] beam-size: 6
[2019-03-26 14:35:07] [config] best-deep: false
[2019-03-26 14:35:07] [config] clip-gemm: 0
[2019-03-26 14:35:07] [config] clip-norm: 5
[2019-03-26 14:35:07] [config] cost-type: ce-mean-words
[2019-03-26 14:35:07] [config] cpu-threads: 0
[2019-03-26 14:35:07] [config] data-weighting-type: sentence
[2019-03-26 14:35:07] [config] dec-cell: gru
[2019-03-26 14:35:07] [config] dec-cell-base-depth: 2
[2019-03-26 14:35:07] [config] dec-cell-high-depth: 1
[2019-03-26 14:35:07] [config] dec-depth: 6
[2019-03-26 14:35:07] [config] devices:
[2019-03-26 14:35:07] [config]   - 0
[2019-03-26 14:35:07] [config]   - 1
[2019-03-26 14:35:07] [config] dim-emb: 1024
[2019-03-26 14:35:07] [config] dim-rnn: 1024
[2019-03-26 14:35:07] [config] dim-vocabs:
[2019-03-26 14:35:07] [config]   - 34028
[2019-03-26 14:35:07] [config]   - 34028
[2019-03-26 14:35:07] [config] disp-first: 0
[2019-03-26 14:35:07] [config] disp-freq: 500
[2019-03-26 14:35:07] [config] disp-label-counts: false
[2019-03-26 14:35:07] [config] dropout-rnn: 0
[2019-03-26 14:35:07] [config] dropout-src: 0
[2019-03-26 14:35:07] [config] dropout-trg: 0
[2019-03-26 14:35:07] [config] early-stopping: 5
[2019-03-26 14:35:07] [config] embedding-fix-src: false
[2019-03-26 14:35:07] [config] embedding-fix-trg: false
[2019-03-26 14:35:07] [config] embedding-normalization: false
[2019-03-26 14:35:07] [config] enc-cell: gru
[2019-03-26 14:35:07] [config] enc-cell-depth: 1
[2019-03-26 14:35:07] [config] enc-depth: 6
[2019-03-26 14:35:07] [config] enc-type: bidirectional
[2019-03-26 14:35:07] [config] exponential-smoothing: 0.0001
[2019-03-26 14:35:07] [config] grad-dropping-momentum: 0
[2019-03-26 14:35:07] [config] grad-dropping-rate: 0
[2019-03-26 14:35:07] [config] grad-dropping-warmup: 100
[2019-03-26 14:35:07] [config] guided-alignment: none
[2019-03-26 14:35:07] [config] guided-alignment-cost: mse
[2019-03-26 14:35:07] [config] guided-alignment-weight: 0.1
[2019-03-26 14:35:07] [config] ignore-model-config: false
[2019-03-26 14:35:07] [config] interpolate-env-vars: false
[2019-03-26 14:35:07] [config] keep-best: true
[2019-03-26 14:35:07] [config] label-smoothing: 0.1
[2019-03-26 14:35:07] [config] layer-normalization: false
[2019-03-26 14:35:07] [config] learn-rate: 0.0002
[2019-03-26 14:35:07] [config] log: model/bt_encz.log
[2019-03-26 14:35:07] [config] log-level: info
[2019-03-26 14:35:07] [config] lr-decay: 0
[2019-03-26 14:35:07] [config] lr-decay-freq: 50000
[2019-03-26 14:35:07] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:35:07] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:35:07] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:35:07] [config] lr-decay-start:
[2019-03-26 14:35:07] [config]   - 10
[2019-03-26 14:35:07] [config]   - 1
[2019-03-26 14:35:07] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:35:07] [config] lr-report: true
[2019-03-26 14:35:07] [config] lr-warmup: 8000
[2019-03-26 14:35:07] [config] lr-warmup-at-reload: false
[2019-03-26 14:35:07] [config] lr-warmup-cycle: false
[2019-03-26 14:35:07] [config] lr-warmup-start-rate: 0
[2019-03-26 14:35:07] [config] max-length: 100
[2019-03-26 14:35:07] [config] max-length-crop: false
[2019-03-26 14:35:07] [config] max-length-factor: 3
[2019-03-26 14:35:07] [config] maxi-batch: 10000
[2019-03-26 14:35:07] [config] maxi-batch-sort: trg
[2019-03-26 14:35:07] [config] mini-batch: 1000
[2019-03-26 14:35:07] [config] mini-batch-fit: true
[2019-03-26 14:35:07] [config] mini-batch-fit-step: 10
[2019-03-26 14:35:07] [config] mini-batch-words: 0
[2019-03-26 14:35:07] [config] model: model/model_bt_encz.npz
[2019-03-26 14:35:07] [config] multi-node: false
[2019-03-26 14:35:07] [config] multi-node-overlap: true
[2019-03-26 14:35:07] [config] n-best: false
[2019-03-26 14:35:07] [config] no-nccl: true
[2019-03-26 14:35:07] [config] no-reload: false
[2019-03-26 14:35:07] [config] no-restore-corpus: false
[2019-03-26 14:35:07] [config] no-shuffle: false
[2019-03-26 14:35:07] [config] normalize: 0.6
[2019-03-26 14:35:07] [config] optimizer: adam
[2019-03-26 14:35:07] [config] optimizer-delay: 4
[2019-03-26 14:35:07] [config] optimizer-params:
[2019-03-26 14:35:07] [config]   - 0.9
[2019-03-26 14:35:07] [config]   - 0.98
[2019-03-26 14:35:07] [config]   - 1e-09
[2019-03-26 14:35:07] [config] overwrite: true
[2019-03-26 14:35:07] [config] quiet: false
[2019-03-26 14:35:07] [config] quiet-translation: true
[2019-03-26 14:35:07] [config] relative-paths: false
[2019-03-26 14:35:07] [config] right-left: false
[2019-03-26 14:35:07] [config] save-freq: 5000
[2019-03-26 14:35:07] [config] seed: 0
[2019-03-26 14:35:07] [config] sentencepiece-alphas:
[2019-03-26 14:35:07] [config]   []
[2019-03-26 14:35:07] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:35:07] [config] sentencepiece-options: ""
[2019-03-26 14:35:07] [config] shuffle-in-ram: false
[2019-03-26 14:35:07] [config] skip: false
[2019-03-26 14:35:07] [config] sqlite: temporary
[2019-03-26 14:35:07] [config] sqlite-drop: false
[2019-03-26 14:35:07] [config] sync-sgd: true
[2019-03-26 14:35:07] [config] tempdir: /tmp
[2019-03-26 14:35:07] [config] tied-embeddings: false
[2019-03-26 14:35:07] [config] tied-embeddings-all: true
[2019-03-26 14:35:07] [config] tied-embeddings-src: false
[2019-03-26 14:35:07] [config] train-sets:
[2019-03-26 14:35:07] [config]   - corpus+paracrawl.2M.en.bpe
[2019-03-26 14:35:07] [config]   - corpus+paracrawl.2M.cz.bpe
[2019-03-26 14:35:07] [config] transformer-aan-activation: swish
[2019-03-26 14:35:07] [config] transformer-aan-depth: 2
[2019-03-26 14:35:07] [config] transformer-aan-nogate: false
[2019-03-26 14:35:07] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:35:07] [config] transformer-dim-aan: 2048
[2019-03-26 14:35:07] [config] transformer-dim-ffn: 4096
[2019-03-26 14:35:07] [config] transformer-dropout: 0.1
[2019-03-26 14:35:07] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:35:07] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:35:07] [config] transformer-ffn-activation: swish
[2019-03-26 14:35:07] [config] transformer-ffn-depth: 2
[2019-03-26 14:35:07] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:35:07] [config] transformer-heads: 16
[2019-03-26 14:35:07] [config] transformer-no-projection: false
[2019-03-26 14:35:07] [config] transformer-postprocess: da
[2019-03-26 14:35:07] [config] transformer-postprocess-emb: d
[2019-03-26 14:35:07] [config] transformer-preprocess: n
[2019-03-26 14:35:07] [config] transformer-tied-layers:
[2019-03-26 14:35:07] [config]   []
[2019-03-26 14:35:07] [config] type: transformer
[2019-03-26 14:35:07] [config] ulr: false
[2019-03-26 14:35:07] [config] ulr-dim-emb: 0
[2019-03-26 14:35:07] [config] ulr-dropout: 0
[2019-03-26 14:35:07] [config] ulr-keys-vectors: ""
[2019-03-26 14:35:07] [config] ulr-query-vectors: ""
[2019-03-26 14:35:07] [config] ulr-softmax-temperature: 1
[2019-03-26 14:35:07] [config] ulr-trainable-transformation: false
[2019-03-26 14:35:07] [config] valid-freq: 5000
[2019-03-26 14:35:07] [config] valid-log: model/valid.log
[2019-03-26 14:35:07] [config] valid-max-length: 1000
[2019-03-26 14:35:07] [config] valid-metrics:
[2019-03-26 14:35:07] [config]   - ce-mean-words
[2019-03-26 14:35:07] [config]   - perplexity
[2019-03-26 14:35:07] [config]   - translation
[2019-03-26 14:35:07] [config] valid-mini-batch: 16
[2019-03-26 14:35:07] [config] valid-script-path: ./val.sh
[2019-03-26 14:35:07] [config] valid-sets:
[2019-03-26 14:35:07] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:35:07] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:35:07] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:35:07] [config] vocabs:
[2019-03-26 14:35:07] [config]   - corp/vocab.encs.yml
[2019-03-26 14:35:07] [config]   - corp/vocab.encs.yml
[2019-03-26 14:35:07] [config] word-penalty: 0
[2019-03-26 14:35:07] [config] workspace: 8600
[2019-03-26 14:35:07] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:35:07] Using synchronous training
[2019-03-26 14:35:07] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:35:07] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:35:07] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:35:08] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:35:08] [sqlite] Creating temporary database in /tmp
[2019-03-26 14:35:11] [sqlite] Inserted 1000000 lines
[2019-03-26 14:35:14] [sqlite] Inserted 2000000 lines
[2019-03-26 14:35:20] [sqlite] Inserted 4000000 lines
[2019-03-26 14:35:33] [sqlite] Inserted 8000000 lines
[2019-03-26 14:36:04] [sqlite] Inserted 16000000 lines
[2019-03-26 14:37:01] [sqlite] Inserted 32000000 lines
[2019-03-26 14:37:35] [sqlite] Inserted 41438108 lines
[2019-03-26 14:37:35] [sqlite] Creating primary index
[2019-03-26 14:38:29] [batching] Collecting statistics for batch fitting with step size 10
[2019-03-26 14:38:29] Compiled without MPI support. Falling back to FakeMPIWrapper
[2019-03-26 14:38:30] [memory] Extending reserved space to 8704 MB (device gpu0)
[2019-03-26 14:38:30] Error: CUDA error 2 'out of memory' - /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38: cudaMalloc(&data_, size)
[2019-03-26 14:38:30] Error: Aborted from virtual void marian::gpu::Device::reserve(size_t) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38

[CALL STACK]
[0xa50f57]                                                            
[0x755b28]                                                            
[0x47ec84]                                                            
[0x505a1a]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f139c1e1b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 17054 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e $e --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
[2019-03-26 14:38:37] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:38:37] [marian] Running on spider3.lingea.cz as process 17124 with command line:
[2019-03-26 14:38:37] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e 8 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:38:37] [config] after-batches: 0
[2019-03-26 14:38:37] [config] after-epochs: 8
[2019-03-26 14:38:37] [config] allow-unk: false
[2019-03-26 14:38:37] [config] beam-size: 6
[2019-03-26 14:38:37] [config] best-deep: false
[2019-03-26 14:38:37] [config] clip-gemm: 0
[2019-03-26 14:38:37] [config] clip-norm: 5
[2019-03-26 14:38:37] [config] cost-type: ce-mean-words
[2019-03-26 14:38:37] [config] cpu-threads: 0
[2019-03-26 14:38:37] [config] data-weighting-type: sentence
[2019-03-26 14:38:37] [config] dec-cell: gru
[2019-03-26 14:38:37] [config] dec-cell-base-depth: 2
[2019-03-26 14:38:37] [config] dec-cell-high-depth: 1
[2019-03-26 14:38:37] [config] dec-depth: 6
[2019-03-26 14:38:37] [config] devices:
[2019-03-26 14:38:37] [config]   - 0
[2019-03-26 14:38:37] [config]   - 1
[2019-03-26 14:38:37] [config] dim-emb: 1024
[2019-03-26 14:38:37] [config] dim-rnn: 1024
[2019-03-26 14:38:37] [config] dim-vocabs:
[2019-03-26 14:38:37] [config]   - 34028
[2019-03-26 14:38:37] [config]   - 34028
[2019-03-26 14:38:37] [config] disp-first: 0
[2019-03-26 14:38:37] [config] disp-freq: 500
[2019-03-26 14:38:37] [config] disp-label-counts: false
[2019-03-26 14:38:37] [config] dropout-rnn: 0
[2019-03-26 14:38:37] [config] dropout-src: 0
[2019-03-26 14:38:37] [config] dropout-trg: 0
[2019-03-26 14:38:37] [config] early-stopping: 5
[2019-03-26 14:38:37] [config] embedding-fix-src: false
[2019-03-26 14:38:37] [config] embedding-fix-trg: false
[2019-03-26 14:38:37] [config] embedding-normalization: false
[2019-03-26 14:38:37] [config] enc-cell: gru
[2019-03-26 14:38:37] [config] enc-cell-depth: 1
[2019-03-26 14:38:37] [config] enc-depth: 6
[2019-03-26 14:38:37] [config] enc-type: bidirectional
[2019-03-26 14:38:37] [config] exponential-smoothing: 0.0001
[2019-03-26 14:38:37] [config] grad-dropping-momentum: 0
[2019-03-26 14:38:37] [config] grad-dropping-rate: 0
[2019-03-26 14:38:37] [config] grad-dropping-warmup: 100
[2019-03-26 14:38:37] [config] guided-alignment: none
[2019-03-26 14:38:37] [config] guided-alignment-cost: mse
[2019-03-26 14:38:37] [config] guided-alignment-weight: 0.1
[2019-03-26 14:38:37] [config] ignore-model-config: false
[2019-03-26 14:38:37] [config] interpolate-env-vars: false
[2019-03-26 14:38:37] [config] keep-best: true
[2019-03-26 14:38:37] [config] label-smoothing: 0.1
[2019-03-26 14:38:37] [config] layer-normalization: false
[2019-03-26 14:38:37] [config] learn-rate: 0.0002
[2019-03-26 14:38:37] [config] log: model/bt_encz.log
[2019-03-26 14:38:37] [config] log-level: info
[2019-03-26 14:38:37] [config] lr-decay: 0
[2019-03-26 14:38:37] [config] lr-decay-freq: 50000
[2019-03-26 14:38:37] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:38:37] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:38:37] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:38:37] [config] lr-decay-start:
[2019-03-26 14:38:37] [config]   - 10
[2019-03-26 14:38:37] [config]   - 1
[2019-03-26 14:38:37] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:38:37] [config] lr-report: true
[2019-03-26 14:38:37] [config] lr-warmup: 8000
[2019-03-26 14:38:37] [config] lr-warmup-at-reload: false
[2019-03-26 14:38:37] [config] lr-warmup-cycle: false
[2019-03-26 14:38:37] [config] lr-warmup-start-rate: 0
[2019-03-26 14:38:37] [config] max-length: 100
[2019-03-26 14:38:37] [config] max-length-crop: false
[2019-03-26 14:38:37] [config] max-length-factor: 3
[2019-03-26 14:38:37] [config] maxi-batch: 10000
[2019-03-26 14:38:37] [config] maxi-batch-sort: trg
[2019-03-26 14:38:37] [config] mini-batch: 1000
[2019-03-26 14:38:37] [config] mini-batch-fit: true
[2019-03-26 14:38:37] [config] mini-batch-fit-step: 10
[2019-03-26 14:38:37] [config] mini-batch-words: 0
[2019-03-26 14:38:37] [config] model: model/model_bt_encz.npz
[2019-03-26 14:38:37] [config] multi-node: false
[2019-03-26 14:38:37] [config] multi-node-overlap: true
[2019-03-26 14:38:37] [config] n-best: false
[2019-03-26 14:38:37] [config] no-nccl: true
[2019-03-26 14:38:37] [config] no-reload: false
[2019-03-26 14:38:37] [config] no-restore-corpus: false
[2019-03-26 14:38:37] [config] no-shuffle: false
[2019-03-26 14:38:37] [config] normalize: 0.6
[2019-03-26 14:38:37] [config] optimizer: adam
[2019-03-26 14:38:37] [config] optimizer-delay: 4
[2019-03-26 14:38:37] [config] optimizer-params:
[2019-03-26 14:38:37] [config]   - 0.9
[2019-03-26 14:38:37] [config]   - 0.98
[2019-03-26 14:38:37] [config]   - 1e-09
[2019-03-26 14:38:37] [config] overwrite: true
[2019-03-26 14:38:37] [config] quiet: false
[2019-03-26 14:38:37] [config] quiet-translation: true
[2019-03-26 14:38:37] [config] relative-paths: false
[2019-03-26 14:38:37] [config] right-left: false
[2019-03-26 14:38:37] [config] save-freq: 5000
[2019-03-26 14:38:37] [config] seed: 0
[2019-03-26 14:38:37] [config] sentencepiece-alphas:
[2019-03-26 14:38:37] [config]   []
[2019-03-26 14:38:37] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:38:37] [config] sentencepiece-options: ""
[2019-03-26 14:38:37] [config] shuffle-in-ram: false
[2019-03-26 14:38:37] [config] skip: false
[2019-03-26 14:38:37] [config] sqlite: temporary
[2019-03-26 14:38:37] [config] sqlite-drop: false
[2019-03-26 14:38:37] [config] sync-sgd: true
[2019-03-26 14:38:37] [config] tempdir: /tmp
[2019-03-26 14:38:37] [config] tied-embeddings: false
[2019-03-26 14:38:37] [config] tied-embeddings-all: true
[2019-03-26 14:38:37] [config] tied-embeddings-src: false
[2019-03-26 14:38:37] [config] train-sets:
[2019-03-26 14:38:37] [config]   - bt.encz.en.bpe
[2019-03-26 14:38:37] [config]   - bt.encz.cz.bpe
[2019-03-26 14:38:37] [config] transformer-aan-activation: swish
[2019-03-26 14:38:37] [config] transformer-aan-depth: 2
[2019-03-26 14:38:37] [config] transformer-aan-nogate: false
[2019-03-26 14:38:37] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:38:37] [config] transformer-dim-aan: 2048
[2019-03-26 14:38:37] [config] transformer-dim-ffn: 4096
[2019-03-26 14:38:37] [config] transformer-dropout: 0.1
[2019-03-26 14:38:37] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:38:37] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:38:37] [config] transformer-ffn-activation: swish
[2019-03-26 14:38:37] [config] transformer-ffn-depth: 2
[2019-03-26 14:38:37] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:38:37] [config] transformer-heads: 16
[2019-03-26 14:38:37] [config] transformer-no-projection: false
[2019-03-26 14:38:37] [config] transformer-postprocess: da
[2019-03-26 14:38:37] [config] transformer-postprocess-emb: d
[2019-03-26 14:38:37] [config] transformer-preprocess: n
[2019-03-26 14:38:37] [config] transformer-tied-layers:
[2019-03-26 14:38:37] [config]   []
[2019-03-26 14:38:37] [config] type: transformer
[2019-03-26 14:38:37] [config] ulr: false
[2019-03-26 14:38:37] [config] ulr-dim-emb: 0
[2019-03-26 14:38:37] [config] ulr-dropout: 0
[2019-03-26 14:38:37] [config] ulr-keys-vectors: ""
[2019-03-26 14:38:37] [config] ulr-query-vectors: ""
[2019-03-26 14:38:37] [config] ulr-softmax-temperature: 1
[2019-03-26 14:38:37] [config] ulr-trainable-transformation: false
[2019-03-26 14:38:37] [config] valid-freq: 5000
[2019-03-26 14:38:37] [config] valid-log: model/valid.log
[2019-03-26 14:38:37] [config] valid-max-length: 1000
[2019-03-26 14:38:37] [config] valid-metrics:
[2019-03-26 14:38:37] [config]   - ce-mean-words
[2019-03-26 14:38:37] [config]   - perplexity
[2019-03-26 14:38:37] [config]   - translation
[2019-03-26 14:38:37] [config] valid-mini-batch: 16
[2019-03-26 14:38:37] [config] valid-script-path: val.sh
[2019-03-26 14:38:37] [config] valid-sets:
[2019-03-26 14:38:37] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:38:37] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:38:37] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:38:37] [config] vocabs:
[2019-03-26 14:38:37] [config]   - corp/vocab.encs.yml
[2019-03-26 14:38:37] [config]   - corp/vocab.encs.yml
[2019-03-26 14:38:37] [config] word-penalty: 0
[2019-03-26 14:38:37] [config] workspace: 8600
[2019-03-26 14:38:37] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:38:37] Using synchronous training
[2019-03-26 14:38:37] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:38:38] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:38:38] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:38:38] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:38:38] Error: File 'bt.encz.en.bpe' does not exist
[2019-03-26 14:38:38] Error: Aborted from marian::io::InputFileStream::InputFileStream(const string&) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/common/file_stream.h:139

[CALL STACK]
[0x4c644c]                                                            
[0x596a86]                                                            
[0x5b07dc]                                                            
[0x4a30a6]                                                            
[0x5058b1]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f5951ea9b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 17124 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e $i --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
ITERATION 8
[2019-03-26 14:38:39] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:38:39] [marian] Running on spider3.lingea.cz as process 17135 with command line:
[2019-03-26 14:38:39] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e 8 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:38:39] [config] after-batches: 0
[2019-03-26 14:38:39] [config] after-epochs: 8
[2019-03-26 14:38:39] [config] allow-unk: false
[2019-03-26 14:38:39] [config] beam-size: 6
[2019-03-26 14:38:39] [config] best-deep: false
[2019-03-26 14:38:39] [config] clip-gemm: 0
[2019-03-26 14:38:39] [config] clip-norm: 5
[2019-03-26 14:38:39] [config] cost-type: ce-mean-words
[2019-03-26 14:38:39] [config] cpu-threads: 0
[2019-03-26 14:38:39] [config] data-weighting-type: sentence
[2019-03-26 14:38:39] [config] dec-cell: gru
[2019-03-26 14:38:39] [config] dec-cell-base-depth: 2
[2019-03-26 14:38:39] [config] dec-cell-high-depth: 1
[2019-03-26 14:38:39] [config] dec-depth: 6
[2019-03-26 14:38:39] [config] devices:
[2019-03-26 14:38:39] [config]   - 0
[2019-03-26 14:38:39] [config]   - 1
[2019-03-26 14:38:39] [config] dim-emb: 1024
[2019-03-26 14:38:39] [config] dim-rnn: 1024
[2019-03-26 14:38:39] [config] dim-vocabs:
[2019-03-26 14:38:39] [config]   - 34028
[2019-03-26 14:38:39] [config]   - 34028
[2019-03-26 14:38:39] [config] disp-first: 0
[2019-03-26 14:38:39] [config] disp-freq: 500
[2019-03-26 14:38:39] [config] disp-label-counts: false
[2019-03-26 14:38:39] [config] dropout-rnn: 0
[2019-03-26 14:38:39] [config] dropout-src: 0
[2019-03-26 14:38:39] [config] dropout-trg: 0
[2019-03-26 14:38:39] [config] early-stopping: 5
[2019-03-26 14:38:39] [config] embedding-fix-src: false
[2019-03-26 14:38:39] [config] embedding-fix-trg: false
[2019-03-26 14:38:39] [config] embedding-normalization: false
[2019-03-26 14:38:39] [config] enc-cell: gru
[2019-03-26 14:38:39] [config] enc-cell-depth: 1
[2019-03-26 14:38:39] [config] enc-depth: 6
[2019-03-26 14:38:39] [config] enc-type: bidirectional
[2019-03-26 14:38:39] [config] exponential-smoothing: 0.0001
[2019-03-26 14:38:39] [config] grad-dropping-momentum: 0
[2019-03-26 14:38:39] [config] grad-dropping-rate: 0
[2019-03-26 14:38:39] [config] grad-dropping-warmup: 100
[2019-03-26 14:38:39] [config] guided-alignment: none
[2019-03-26 14:38:39] [config] guided-alignment-cost: mse
[2019-03-26 14:38:39] [config] guided-alignment-weight: 0.1
[2019-03-26 14:38:39] [config] ignore-model-config: false
[2019-03-26 14:38:39] [config] interpolate-env-vars: false
[2019-03-26 14:38:39] [config] keep-best: true
[2019-03-26 14:38:39] [config] label-smoothing: 0.1
[2019-03-26 14:38:39] [config] layer-normalization: false
[2019-03-26 14:38:39] [config] learn-rate: 0.0002
[2019-03-26 14:38:39] [config] log: model/bt_encz.log
[2019-03-26 14:38:39] [config] log-level: info
[2019-03-26 14:38:39] [config] lr-decay: 0
[2019-03-26 14:38:39] [config] lr-decay-freq: 50000
[2019-03-26 14:38:39] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:38:39] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:38:39] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:38:39] [config] lr-decay-start:
[2019-03-26 14:38:39] [config]   - 10
[2019-03-26 14:38:39] [config]   - 1
[2019-03-26 14:38:39] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:38:39] [config] lr-report: true
[2019-03-26 14:38:39] [config] lr-warmup: 8000
[2019-03-26 14:38:39] [config] lr-warmup-at-reload: false
[2019-03-26 14:38:39] [config] lr-warmup-cycle: false
[2019-03-26 14:38:39] [config] lr-warmup-start-rate: 0
[2019-03-26 14:38:39] [config] max-length: 100
[2019-03-26 14:38:39] [config] max-length-crop: false
[2019-03-26 14:38:39] [config] max-length-factor: 3
[2019-03-26 14:38:39] [config] maxi-batch: 10000
[2019-03-26 14:38:39] [config] maxi-batch-sort: trg
[2019-03-26 14:38:39] [config] mini-batch: 1000
[2019-03-26 14:38:39] [config] mini-batch-fit: true
[2019-03-26 14:38:39] [config] mini-batch-fit-step: 10
[2019-03-26 14:38:39] [config] mini-batch-words: 0
[2019-03-26 14:38:39] [config] model: model/model_bt_encz.npz
[2019-03-26 14:38:39] [config] multi-node: false
[2019-03-26 14:38:39] [config] multi-node-overlap: true
[2019-03-26 14:38:39] [config] n-best: false
[2019-03-26 14:38:39] [config] no-nccl: true
[2019-03-26 14:38:39] [config] no-reload: false
[2019-03-26 14:38:39] [config] no-restore-corpus: false
[2019-03-26 14:38:39] [config] no-shuffle: false
[2019-03-26 14:38:39] [config] normalize: 0.6
[2019-03-26 14:38:39] [config] optimizer: adam
[2019-03-26 14:38:39] [config] optimizer-delay: 4
[2019-03-26 14:38:39] [config] optimizer-params:
[2019-03-26 14:38:39] [config]   - 0.9
[2019-03-26 14:38:39] [config]   - 0.98
[2019-03-26 14:38:39] [config]   - 1e-09
[2019-03-26 14:38:39] [config] overwrite: true
[2019-03-26 14:38:39] [config] quiet: false
[2019-03-26 14:38:39] [config] quiet-translation: true
[2019-03-26 14:38:39] [config] relative-paths: false
[2019-03-26 14:38:39] [config] right-left: false
[2019-03-26 14:38:39] [config] save-freq: 5000
[2019-03-26 14:38:39] [config] seed: 0
[2019-03-26 14:38:39] [config] sentencepiece-alphas:
[2019-03-26 14:38:39] [config]   []
[2019-03-26 14:38:39] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:38:39] [config] sentencepiece-options: ""
[2019-03-26 14:38:39] [config] shuffle-in-ram: false
[2019-03-26 14:38:39] [config] skip: false
[2019-03-26 14:38:39] [config] sqlite: temporary
[2019-03-26 14:38:39] [config] sqlite-drop: false
[2019-03-26 14:38:39] [config] sync-sgd: true
[2019-03-26 14:38:39] [config] tempdir: /tmp
[2019-03-26 14:38:39] [config] tied-embeddings: false
[2019-03-26 14:38:39] [config] tied-embeddings-all: true
[2019-03-26 14:38:39] [config] tied-embeddings-src: false
[2019-03-26 14:38:39] [config] train-sets:
[2019-03-26 14:38:39] [config]   - corpus+paracrawl.2M.en.bpe
[2019-03-26 14:38:39] [config]   - corpus+paracrawl.2M.cz.bpe
[2019-03-26 14:38:39] [config] transformer-aan-activation: swish
[2019-03-26 14:38:39] [config] transformer-aan-depth: 2
[2019-03-26 14:38:39] [config] transformer-aan-nogate: false
[2019-03-26 14:38:39] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:38:39] [config] transformer-dim-aan: 2048
[2019-03-26 14:38:39] [config] transformer-dim-ffn: 4096
[2019-03-26 14:38:39] [config] transformer-dropout: 0.1
[2019-03-26 14:38:39] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:38:39] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:38:39] [config] transformer-ffn-activation: swish
[2019-03-26 14:38:39] [config] transformer-ffn-depth: 2
[2019-03-26 14:38:39] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:38:39] [config] transformer-heads: 16
[2019-03-26 14:38:39] [config] transformer-no-projection: false
[2019-03-26 14:38:39] [config] transformer-postprocess: da
[2019-03-26 14:38:39] [config] transformer-postprocess-emb: d
[2019-03-26 14:38:39] [config] transformer-preprocess: n
[2019-03-26 14:38:39] [config] transformer-tied-layers:
[2019-03-26 14:38:39] [config]   []
[2019-03-26 14:38:39] [config] type: transformer
[2019-03-26 14:38:39] [config] ulr: false
[2019-03-26 14:38:39] [config] ulr-dim-emb: 0
[2019-03-26 14:38:39] [config] ulr-dropout: 0
[2019-03-26 14:38:39] [config] ulr-keys-vectors: ""
[2019-03-26 14:38:39] [config] ulr-query-vectors: ""
[2019-03-26 14:38:39] [config] ulr-softmax-temperature: 1
[2019-03-26 14:38:39] [config] ulr-trainable-transformation: false
[2019-03-26 14:38:39] [config] valid-freq: 5000
[2019-03-26 14:38:39] [config] valid-log: model/valid.log
[2019-03-26 14:38:39] [config] valid-max-length: 1000
[2019-03-26 14:38:39] [config] valid-metrics:
[2019-03-26 14:38:39] [config]   - ce-mean-words
[2019-03-26 14:38:39] [config]   - perplexity
[2019-03-26 14:38:39] [config]   - translation
[2019-03-26 14:38:39] [config] valid-mini-batch: 16
[2019-03-26 14:38:39] [config] valid-script-path: ./val.sh
[2019-03-26 14:38:39] [config] valid-sets:
[2019-03-26 14:38:39] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:38:39] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:38:39] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:38:39] [config] vocabs:
[2019-03-26 14:38:39] [config]   - corp/vocab.encs.yml
[2019-03-26 14:38:39] [config]   - corp/vocab.encs.yml
[2019-03-26 14:38:39] [config] word-penalty: 0
[2019-03-26 14:38:39] [config] workspace: 8600
[2019-03-26 14:38:39] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:38:39] Using synchronous training
[2019-03-26 14:38:39] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:38:39] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:38:39] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:38:40] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:38:40] [sqlite] Creating temporary database in /tmp
[2019-03-26 14:38:43] [sqlite] Inserted 1000000 lines
[2019-03-26 14:38:46] [sqlite] Inserted 2000000 lines
[2019-03-26 14:38:52] [sqlite] Inserted 4000000 lines
[2019-03-26 14:39:05] [sqlite] Inserted 8000000 lines
[2019-03-26 14:39:35] [sqlite] Inserted 16000000 lines
[2019-03-26 14:40:35] [sqlite] Inserted 32000000 lines
[2019-03-26 14:41:12] [sqlite] Inserted 41438108 lines
[2019-03-26 14:41:12] [sqlite] Creating primary index
[2019-03-26 14:42:06] [batching] Collecting statistics for batch fitting with step size 10
[2019-03-26 14:42:06] Compiled without MPI support. Falling back to FakeMPIWrapper
[2019-03-26 14:42:07] [memory] Extending reserved space to 8704 MB (device gpu0)
[2019-03-26 14:42:08] Error: CUDA error 2 'out of memory' - /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38: cudaMalloc(&data_, size)
[2019-03-26 14:42:08] Error: Aborted from virtual void marian::gpu::Device::reserve(size_t) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38

[CALL STACK]
[0xa50f57]                                                            
[0x755b28]                                                            
[0x47ec84]                                                            
[0x505a1a]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f1e7b911b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 17135 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e $e --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
[2019-03-26 14:42:15] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:42:15] [marian] Running on spider3.lingea.cz as process 17290 with command line:
[2019-03-26 14:42:15] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e 9 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:42:15] [config] after-batches: 0
[2019-03-26 14:42:15] [config] after-epochs: 9
[2019-03-26 14:42:15] [config] allow-unk: false
[2019-03-26 14:42:15] [config] beam-size: 6
[2019-03-26 14:42:15] [config] best-deep: false
[2019-03-26 14:42:15] [config] clip-gemm: 0
[2019-03-26 14:42:15] [config] clip-norm: 5
[2019-03-26 14:42:15] [config] cost-type: ce-mean-words
[2019-03-26 14:42:15] [config] cpu-threads: 0
[2019-03-26 14:42:15] [config] data-weighting-type: sentence
[2019-03-26 14:42:15] [config] dec-cell: gru
[2019-03-26 14:42:15] [config] dec-cell-base-depth: 2
[2019-03-26 14:42:15] [config] dec-cell-high-depth: 1
[2019-03-26 14:42:15] [config] dec-depth: 6
[2019-03-26 14:42:15] [config] devices:
[2019-03-26 14:42:15] [config]   - 0
[2019-03-26 14:42:15] [config]   - 1
[2019-03-26 14:42:15] [config] dim-emb: 1024
[2019-03-26 14:42:15] [config] dim-rnn: 1024
[2019-03-26 14:42:15] [config] dim-vocabs:
[2019-03-26 14:42:15] [config]   - 34028
[2019-03-26 14:42:15] [config]   - 34028
[2019-03-26 14:42:15] [config] disp-first: 0
[2019-03-26 14:42:15] [config] disp-freq: 500
[2019-03-26 14:42:15] [config] disp-label-counts: false
[2019-03-26 14:42:15] [config] dropout-rnn: 0
[2019-03-26 14:42:15] [config] dropout-src: 0
[2019-03-26 14:42:15] [config] dropout-trg: 0
[2019-03-26 14:42:15] [config] early-stopping: 5
[2019-03-26 14:42:15] [config] embedding-fix-src: false
[2019-03-26 14:42:15] [config] embedding-fix-trg: false
[2019-03-26 14:42:15] [config] embedding-normalization: false
[2019-03-26 14:42:15] [config] enc-cell: gru
[2019-03-26 14:42:15] [config] enc-cell-depth: 1
[2019-03-26 14:42:15] [config] enc-depth: 6
[2019-03-26 14:42:15] [config] enc-type: bidirectional
[2019-03-26 14:42:15] [config] exponential-smoothing: 0.0001
[2019-03-26 14:42:15] [config] grad-dropping-momentum: 0
[2019-03-26 14:42:15] [config] grad-dropping-rate: 0
[2019-03-26 14:42:15] [config] grad-dropping-warmup: 100
[2019-03-26 14:42:15] [config] guided-alignment: none
[2019-03-26 14:42:15] [config] guided-alignment-cost: mse
[2019-03-26 14:42:15] [config] guided-alignment-weight: 0.1
[2019-03-26 14:42:15] [config] ignore-model-config: false
[2019-03-26 14:42:15] [config] interpolate-env-vars: false
[2019-03-26 14:42:15] [config] keep-best: true
[2019-03-26 14:42:15] [config] label-smoothing: 0.1
[2019-03-26 14:42:15] [config] layer-normalization: false
[2019-03-26 14:42:15] [config] learn-rate: 0.0002
[2019-03-26 14:42:15] [config] log: model/bt_encz.log
[2019-03-26 14:42:15] [config] log-level: info
[2019-03-26 14:42:15] [config] lr-decay: 0
[2019-03-26 14:42:15] [config] lr-decay-freq: 50000
[2019-03-26 14:42:15] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:42:15] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:42:15] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:42:15] [config] lr-decay-start:
[2019-03-26 14:42:15] [config]   - 10
[2019-03-26 14:42:15] [config]   - 1
[2019-03-26 14:42:15] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:42:15] [config] lr-report: true
[2019-03-26 14:42:15] [config] lr-warmup: 8000
[2019-03-26 14:42:15] [config] lr-warmup-at-reload: false
[2019-03-26 14:42:15] [config] lr-warmup-cycle: false
[2019-03-26 14:42:15] [config] lr-warmup-start-rate: 0
[2019-03-26 14:42:15] [config] max-length: 100
[2019-03-26 14:42:15] [config] max-length-crop: false
[2019-03-26 14:42:15] [config] max-length-factor: 3
[2019-03-26 14:42:15] [config] maxi-batch: 10000
[2019-03-26 14:42:15] [config] maxi-batch-sort: trg
[2019-03-26 14:42:15] [config] mini-batch: 1000
[2019-03-26 14:42:15] [config] mini-batch-fit: true
[2019-03-26 14:42:15] [config] mini-batch-fit-step: 10
[2019-03-26 14:42:15] [config] mini-batch-words: 0
[2019-03-26 14:42:15] [config] model: model/model_bt_encz.npz
[2019-03-26 14:42:15] [config] multi-node: false
[2019-03-26 14:42:15] [config] multi-node-overlap: true
[2019-03-26 14:42:15] [config] n-best: false
[2019-03-26 14:42:15] [config] no-nccl: true
[2019-03-26 14:42:15] [config] no-reload: false
[2019-03-26 14:42:15] [config] no-restore-corpus: false
[2019-03-26 14:42:15] [config] no-shuffle: false
[2019-03-26 14:42:15] [config] normalize: 0.6
[2019-03-26 14:42:15] [config] optimizer: adam
[2019-03-26 14:42:15] [config] optimizer-delay: 4
[2019-03-26 14:42:15] [config] optimizer-params:
[2019-03-26 14:42:15] [config]   - 0.9
[2019-03-26 14:42:15] [config]   - 0.98
[2019-03-26 14:42:15] [config]   - 1e-09
[2019-03-26 14:42:15] [config] overwrite: true
[2019-03-26 14:42:15] [config] quiet: false
[2019-03-26 14:42:15] [config] quiet-translation: true
[2019-03-26 14:42:15] [config] relative-paths: false
[2019-03-26 14:42:15] [config] right-left: false
[2019-03-26 14:42:15] [config] save-freq: 5000
[2019-03-26 14:42:15] [config] seed: 0
[2019-03-26 14:42:15] [config] sentencepiece-alphas:
[2019-03-26 14:42:15] [config]   []
[2019-03-26 14:42:15] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:42:15] [config] sentencepiece-options: ""
[2019-03-26 14:42:15] [config] shuffle-in-ram: false
[2019-03-26 14:42:15] [config] skip: false
[2019-03-26 14:42:15] [config] sqlite: temporary
[2019-03-26 14:42:15] [config] sqlite-drop: false
[2019-03-26 14:42:15] [config] sync-sgd: true
[2019-03-26 14:42:15] [config] tempdir: /tmp
[2019-03-26 14:42:15] [config] tied-embeddings: false
[2019-03-26 14:42:15] [config] tied-embeddings-all: true
[2019-03-26 14:42:15] [config] tied-embeddings-src: false
[2019-03-26 14:42:15] [config] train-sets:
[2019-03-26 14:42:15] [config]   - bt.encz.en.bpe
[2019-03-26 14:42:15] [config]   - bt.encz.cz.bpe
[2019-03-26 14:42:15] [config] transformer-aan-activation: swish
[2019-03-26 14:42:15] [config] transformer-aan-depth: 2
[2019-03-26 14:42:15] [config] transformer-aan-nogate: false
[2019-03-26 14:42:15] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:42:15] [config] transformer-dim-aan: 2048
[2019-03-26 14:42:15] [config] transformer-dim-ffn: 4096
[2019-03-26 14:42:15] [config] transformer-dropout: 0.1
[2019-03-26 14:42:15] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:42:15] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:42:15] [config] transformer-ffn-activation: swish
[2019-03-26 14:42:15] [config] transformer-ffn-depth: 2
[2019-03-26 14:42:15] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:42:15] [config] transformer-heads: 16
[2019-03-26 14:42:15] [config] transformer-no-projection: false
[2019-03-26 14:42:15] [config] transformer-postprocess: da
[2019-03-26 14:42:15] [config] transformer-postprocess-emb: d
[2019-03-26 14:42:15] [config] transformer-preprocess: n
[2019-03-26 14:42:15] [config] transformer-tied-layers:
[2019-03-26 14:42:15] [config]   []
[2019-03-26 14:42:15] [config] type: transformer
[2019-03-26 14:42:15] [config] ulr: false
[2019-03-26 14:42:15] [config] ulr-dim-emb: 0
[2019-03-26 14:42:15] [config] ulr-dropout: 0
[2019-03-26 14:42:15] [config] ulr-keys-vectors: ""
[2019-03-26 14:42:15] [config] ulr-query-vectors: ""
[2019-03-26 14:42:15] [config] ulr-softmax-temperature: 1
[2019-03-26 14:42:15] [config] ulr-trainable-transformation: false
[2019-03-26 14:42:15] [config] valid-freq: 5000
[2019-03-26 14:42:15] [config] valid-log: model/valid.log
[2019-03-26 14:42:15] [config] valid-max-length: 1000
[2019-03-26 14:42:15] [config] valid-metrics:
[2019-03-26 14:42:15] [config]   - ce-mean-words
[2019-03-26 14:42:15] [config]   - perplexity
[2019-03-26 14:42:15] [config]   - translation
[2019-03-26 14:42:15] [config] valid-mini-batch: 16
[2019-03-26 14:42:15] [config] valid-script-path: val.sh
[2019-03-26 14:42:15] [config] valid-sets:
[2019-03-26 14:42:15] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:42:15] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:42:15] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:42:15] [config] vocabs:
[2019-03-26 14:42:15] [config]   - corp/vocab.encs.yml
[2019-03-26 14:42:15] [config]   - corp/vocab.encs.yml
[2019-03-26 14:42:15] [config] word-penalty: 0
[2019-03-26 14:42:15] [config] workspace: 8600
[2019-03-26 14:42:15] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:42:15] Using synchronous training
[2019-03-26 14:42:15] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:42:16] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:42:16] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:42:16] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:42:16] Error: File 'bt.encz.en.bpe' does not exist
[2019-03-26 14:42:16] Error: Aborted from marian::io::InputFileStream::InputFileStream(const string&) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/common/file_stream.h:139

[CALL STACK]
[0x4c644c]                                                            
[0x596a86]                                                            
[0x5b07dc]                                                            
[0x4a30a6]                                                            
[0x5058b1]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f68f3fe9b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 17290 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e $i --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
ITERATION 9
[2019-03-26 14:42:16] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:42:16] [marian] Running on spider3.lingea.cz as process 17293 with command line:
[2019-03-26 14:42:16] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e 9 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:42:16] [config] after-batches: 0
[2019-03-26 14:42:16] [config] after-epochs: 9
[2019-03-26 14:42:16] [config] allow-unk: false
[2019-03-26 14:42:16] [config] beam-size: 6
[2019-03-26 14:42:16] [config] best-deep: false
[2019-03-26 14:42:16] [config] clip-gemm: 0
[2019-03-26 14:42:16] [config] clip-norm: 5
[2019-03-26 14:42:16] [config] cost-type: ce-mean-words
[2019-03-26 14:42:16] [config] cpu-threads: 0
[2019-03-26 14:42:16] [config] data-weighting-type: sentence
[2019-03-26 14:42:16] [config] dec-cell: gru
[2019-03-26 14:42:16] [config] dec-cell-base-depth: 2
[2019-03-26 14:42:16] [config] dec-cell-high-depth: 1
[2019-03-26 14:42:16] [config] dec-depth: 6
[2019-03-26 14:42:16] [config] devices:
[2019-03-26 14:42:16] [config]   - 0
[2019-03-26 14:42:16] [config]   - 1
[2019-03-26 14:42:16] [config] dim-emb: 1024
[2019-03-26 14:42:16] [config] dim-rnn: 1024
[2019-03-26 14:42:16] [config] dim-vocabs:
[2019-03-26 14:42:16] [config]   - 34028
[2019-03-26 14:42:16] [config]   - 34028
[2019-03-26 14:42:16] [config] disp-first: 0
[2019-03-26 14:42:16] [config] disp-freq: 500
[2019-03-26 14:42:16] [config] disp-label-counts: false
[2019-03-26 14:42:16] [config] dropout-rnn: 0
[2019-03-26 14:42:16] [config] dropout-src: 0
[2019-03-26 14:42:16] [config] dropout-trg: 0
[2019-03-26 14:42:16] [config] early-stopping: 5
[2019-03-26 14:42:16] [config] embedding-fix-src: false
[2019-03-26 14:42:16] [config] embedding-fix-trg: false
[2019-03-26 14:42:16] [config] embedding-normalization: false
[2019-03-26 14:42:16] [config] enc-cell: gru
[2019-03-26 14:42:16] [config] enc-cell-depth: 1
[2019-03-26 14:42:16] [config] enc-depth: 6
[2019-03-26 14:42:16] [config] enc-type: bidirectional
[2019-03-26 14:42:16] [config] exponential-smoothing: 0.0001
[2019-03-26 14:42:16] [config] grad-dropping-momentum: 0
[2019-03-26 14:42:16] [config] grad-dropping-rate: 0
[2019-03-26 14:42:16] [config] grad-dropping-warmup: 100
[2019-03-26 14:42:16] [config] guided-alignment: none
[2019-03-26 14:42:16] [config] guided-alignment-cost: mse
[2019-03-26 14:42:16] [config] guided-alignment-weight: 0.1
[2019-03-26 14:42:16] [config] ignore-model-config: false
[2019-03-26 14:42:16] [config] interpolate-env-vars: false
[2019-03-26 14:42:16] [config] keep-best: true
[2019-03-26 14:42:16] [config] label-smoothing: 0.1
[2019-03-26 14:42:16] [config] layer-normalization: false
[2019-03-26 14:42:16] [config] learn-rate: 0.0002
[2019-03-26 14:42:16] [config] log: model/bt_encz.log
[2019-03-26 14:42:16] [config] log-level: info
[2019-03-26 14:42:16] [config] lr-decay: 0
[2019-03-26 14:42:16] [config] lr-decay-freq: 50000
[2019-03-26 14:42:16] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:42:16] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:42:16] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:42:16] [config] lr-decay-start:
[2019-03-26 14:42:16] [config]   - 10
[2019-03-26 14:42:16] [config]   - 1
[2019-03-26 14:42:16] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:42:16] [config] lr-report: true
[2019-03-26 14:42:16] [config] lr-warmup: 8000
[2019-03-26 14:42:16] [config] lr-warmup-at-reload: false
[2019-03-26 14:42:16] [config] lr-warmup-cycle: false
[2019-03-26 14:42:16] [config] lr-warmup-start-rate: 0
[2019-03-26 14:42:16] [config] max-length: 100
[2019-03-26 14:42:16] [config] max-length-crop: false
[2019-03-26 14:42:16] [config] max-length-factor: 3
[2019-03-26 14:42:16] [config] maxi-batch: 10000
[2019-03-26 14:42:16] [config] maxi-batch-sort: trg
[2019-03-26 14:42:16] [config] mini-batch: 1000
[2019-03-26 14:42:16] [config] mini-batch-fit: true
[2019-03-26 14:42:16] [config] mini-batch-fit-step: 10
[2019-03-26 14:42:16] [config] mini-batch-words: 0
[2019-03-26 14:42:16] [config] model: model/model_bt_encz.npz
[2019-03-26 14:42:16] [config] multi-node: false
[2019-03-26 14:42:16] [config] multi-node-overlap: true
[2019-03-26 14:42:16] [config] n-best: false
[2019-03-26 14:42:16] [config] no-nccl: true
[2019-03-26 14:42:16] [config] no-reload: false
[2019-03-26 14:42:16] [config] no-restore-corpus: false
[2019-03-26 14:42:16] [config] no-shuffle: false
[2019-03-26 14:42:16] [config] normalize: 0.6
[2019-03-26 14:42:16] [config] optimizer: adam
[2019-03-26 14:42:16] [config] optimizer-delay: 4
[2019-03-26 14:42:16] [config] optimizer-params:
[2019-03-26 14:42:16] [config]   - 0.9
[2019-03-26 14:42:16] [config]   - 0.98
[2019-03-26 14:42:16] [config]   - 1e-09
[2019-03-26 14:42:16] [config] overwrite: true
[2019-03-26 14:42:16] [config] quiet: false
[2019-03-26 14:42:16] [config] quiet-translation: true
[2019-03-26 14:42:16] [config] relative-paths: false
[2019-03-26 14:42:16] [config] right-left: false
[2019-03-26 14:42:16] [config] save-freq: 5000
[2019-03-26 14:42:16] [config] seed: 0
[2019-03-26 14:42:16] [config] sentencepiece-alphas:
[2019-03-26 14:42:16] [config]   []
[2019-03-26 14:42:16] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:42:16] [config] sentencepiece-options: ""
[2019-03-26 14:42:16] [config] shuffle-in-ram: false
[2019-03-26 14:42:16] [config] skip: false
[2019-03-26 14:42:16] [config] sqlite: temporary
[2019-03-26 14:42:16] [config] sqlite-drop: false
[2019-03-26 14:42:16] [config] sync-sgd: true
[2019-03-26 14:42:16] [config] tempdir: /tmp
[2019-03-26 14:42:16] [config] tied-embeddings: false
[2019-03-26 14:42:16] [config] tied-embeddings-all: true
[2019-03-26 14:42:16] [config] tied-embeddings-src: false
[2019-03-26 14:42:16] [config] train-sets:
[2019-03-26 14:42:16] [config]   - corpus+paracrawl.2M.en.bpe
[2019-03-26 14:42:16] [config]   - corpus+paracrawl.2M.cz.bpe
[2019-03-26 14:42:16] [config] transformer-aan-activation: swish
[2019-03-26 14:42:16] [config] transformer-aan-depth: 2
[2019-03-26 14:42:16] [config] transformer-aan-nogate: false
[2019-03-26 14:42:16] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:42:16] [config] transformer-dim-aan: 2048
[2019-03-26 14:42:16] [config] transformer-dim-ffn: 4096
[2019-03-26 14:42:16] [config] transformer-dropout: 0.1
[2019-03-26 14:42:16] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:42:16] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:42:16] [config] transformer-ffn-activation: swish
[2019-03-26 14:42:16] [config] transformer-ffn-depth: 2
[2019-03-26 14:42:16] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:42:16] [config] transformer-heads: 16
[2019-03-26 14:42:16] [config] transformer-no-projection: false
[2019-03-26 14:42:16] [config] transformer-postprocess: da
[2019-03-26 14:42:16] [config] transformer-postprocess-emb: d
[2019-03-26 14:42:16] [config] transformer-preprocess: n
[2019-03-26 14:42:16] [config] transformer-tied-layers:
[2019-03-26 14:42:16] [config]   []
[2019-03-26 14:42:16] [config] type: transformer
[2019-03-26 14:42:16] [config] ulr: false
[2019-03-26 14:42:16] [config] ulr-dim-emb: 0
[2019-03-26 14:42:16] [config] ulr-dropout: 0
[2019-03-26 14:42:16] [config] ulr-keys-vectors: ""
[2019-03-26 14:42:16] [config] ulr-query-vectors: ""
[2019-03-26 14:42:16] [config] ulr-softmax-temperature: 1
[2019-03-26 14:42:16] [config] ulr-trainable-transformation: false
[2019-03-26 14:42:16] [config] valid-freq: 5000
[2019-03-26 14:42:16] [config] valid-log: model/valid.log
[2019-03-26 14:42:16] [config] valid-max-length: 1000
[2019-03-26 14:42:16] [config] valid-metrics:
[2019-03-26 14:42:16] [config]   - ce-mean-words
[2019-03-26 14:42:16] [config]   - perplexity
[2019-03-26 14:42:16] [config]   - translation
[2019-03-26 14:42:16] [config] valid-mini-batch: 16
[2019-03-26 14:42:16] [config] valid-script-path: ./val.sh
[2019-03-26 14:42:16] [config] valid-sets:
[2019-03-26 14:42:16] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:42:16] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:42:16] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:42:16] [config] vocabs:
[2019-03-26 14:42:16] [config]   - corp/vocab.encs.yml
[2019-03-26 14:42:16] [config]   - corp/vocab.encs.yml
[2019-03-26 14:42:16] [config] word-penalty: 0
[2019-03-26 14:42:16] [config] workspace: 8600
[2019-03-26 14:42:16] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:42:16] Using synchronous training
[2019-03-26 14:42:16] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:42:17] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:42:17] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:42:17] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:42:17] [sqlite] Creating temporary database in /tmp
[2019-03-26 14:42:20] [sqlite] Inserted 1000000 lines
[2019-03-26 14:42:23] [sqlite] Inserted 2000000 lines
[2019-03-26 14:42:30] [sqlite] Inserted 4000000 lines
[2019-03-26 14:42:42] [sqlite] Inserted 8000000 lines
[2019-03-26 14:43:13] [sqlite] Inserted 16000000 lines
[2019-03-26 14:44:13] [sqlite] Inserted 32000000 lines
[2019-03-26 14:44:48] [sqlite] Inserted 41438108 lines
[2019-03-26 14:44:48] [sqlite] Creating primary index
[2019-03-26 14:45:42] [batching] Collecting statistics for batch fitting with step size 10
[2019-03-26 14:45:42] Compiled without MPI support. Falling back to FakeMPIWrapper
[2019-03-26 14:45:44] [memory] Extending reserved space to 8704 MB (device gpu0)
[2019-03-26 14:45:44] Error: CUDA error 2 'out of memory' - /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38: cudaMalloc(&data_, size)
[2019-03-26 14:45:44] Error: Aborted from virtual void marian::gpu::Device::reserve(size_t) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38

[CALL STACK]
[0xa50f57]                                                            
[0x755b28]                                                            
[0x47ec84]                                                            
[0x505a1a]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f64610d9b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 17293 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e $e --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
[2019-03-26 14:45:53] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:45:53] [marian] Running on spider3.lingea.cz as process 17355 with command line:
[2019-03-26 14:45:53] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e 10 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:45:53] [config] after-batches: 0
[2019-03-26 14:45:53] [config] after-epochs: 10
[2019-03-26 14:45:53] [config] allow-unk: false
[2019-03-26 14:45:53] [config] beam-size: 6
[2019-03-26 14:45:53] [config] best-deep: false
[2019-03-26 14:45:53] [config] clip-gemm: 0
[2019-03-26 14:45:53] [config] clip-norm: 5
[2019-03-26 14:45:53] [config] cost-type: ce-mean-words
[2019-03-26 14:45:53] [config] cpu-threads: 0
[2019-03-26 14:45:53] [config] data-weighting-type: sentence
[2019-03-26 14:45:53] [config] dec-cell: gru
[2019-03-26 14:45:53] [config] dec-cell-base-depth: 2
[2019-03-26 14:45:53] [config] dec-cell-high-depth: 1
[2019-03-26 14:45:53] [config] dec-depth: 6
[2019-03-26 14:45:53] [config] devices:
[2019-03-26 14:45:53] [config]   - 0
[2019-03-26 14:45:53] [config]   - 1
[2019-03-26 14:45:53] [config] dim-emb: 1024
[2019-03-26 14:45:53] [config] dim-rnn: 1024
[2019-03-26 14:45:53] [config] dim-vocabs:
[2019-03-26 14:45:53] [config]   - 34028
[2019-03-26 14:45:53] [config]   - 34028
[2019-03-26 14:45:53] [config] disp-first: 0
[2019-03-26 14:45:53] [config] disp-freq: 500
[2019-03-26 14:45:53] [config] disp-label-counts: false
[2019-03-26 14:45:53] [config] dropout-rnn: 0
[2019-03-26 14:45:53] [config] dropout-src: 0
[2019-03-26 14:45:53] [config] dropout-trg: 0
[2019-03-26 14:45:53] [config] early-stopping: 5
[2019-03-26 14:45:53] [config] embedding-fix-src: false
[2019-03-26 14:45:53] [config] embedding-fix-trg: false
[2019-03-26 14:45:53] [config] embedding-normalization: false
[2019-03-26 14:45:53] [config] enc-cell: gru
[2019-03-26 14:45:53] [config] enc-cell-depth: 1
[2019-03-26 14:45:53] [config] enc-depth: 6
[2019-03-26 14:45:53] [config] enc-type: bidirectional
[2019-03-26 14:45:53] [config] exponential-smoothing: 0.0001
[2019-03-26 14:45:53] [config] grad-dropping-momentum: 0
[2019-03-26 14:45:53] [config] grad-dropping-rate: 0
[2019-03-26 14:45:53] [config] grad-dropping-warmup: 100
[2019-03-26 14:45:53] [config] guided-alignment: none
[2019-03-26 14:45:53] [config] guided-alignment-cost: mse
[2019-03-26 14:45:53] [config] guided-alignment-weight: 0.1
[2019-03-26 14:45:53] [config] ignore-model-config: false
[2019-03-26 14:45:53] [config] interpolate-env-vars: false
[2019-03-26 14:45:53] [config] keep-best: true
[2019-03-26 14:45:53] [config] label-smoothing: 0.1
[2019-03-26 14:45:53] [config] layer-normalization: false
[2019-03-26 14:45:53] [config] learn-rate: 0.0002
[2019-03-26 14:45:53] [config] log: model/bt_encz.log
[2019-03-26 14:45:53] [config] log-level: info
[2019-03-26 14:45:53] [config] lr-decay: 0
[2019-03-26 14:45:53] [config] lr-decay-freq: 50000
[2019-03-26 14:45:53] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:45:53] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:45:53] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:45:53] [config] lr-decay-start:
[2019-03-26 14:45:53] [config]   - 10
[2019-03-26 14:45:53] [config]   - 1
[2019-03-26 14:45:53] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:45:53] [config] lr-report: true
[2019-03-26 14:45:53] [config] lr-warmup: 8000
[2019-03-26 14:45:53] [config] lr-warmup-at-reload: false
[2019-03-26 14:45:53] [config] lr-warmup-cycle: false
[2019-03-26 14:45:53] [config] lr-warmup-start-rate: 0
[2019-03-26 14:45:53] [config] max-length: 100
[2019-03-26 14:45:53] [config] max-length-crop: false
[2019-03-26 14:45:53] [config] max-length-factor: 3
[2019-03-26 14:45:53] [config] maxi-batch: 10000
[2019-03-26 14:45:53] [config] maxi-batch-sort: trg
[2019-03-26 14:45:53] [config] mini-batch: 1000
[2019-03-26 14:45:53] [config] mini-batch-fit: true
[2019-03-26 14:45:53] [config] mini-batch-fit-step: 10
[2019-03-26 14:45:53] [config] mini-batch-words: 0
[2019-03-26 14:45:53] [config] model: model/model_bt_encz.npz
[2019-03-26 14:45:53] [config] multi-node: false
[2019-03-26 14:45:53] [config] multi-node-overlap: true
[2019-03-26 14:45:53] [config] n-best: false
[2019-03-26 14:45:53] [config] no-nccl: true
[2019-03-26 14:45:53] [config] no-reload: false
[2019-03-26 14:45:53] [config] no-restore-corpus: false
[2019-03-26 14:45:53] [config] no-shuffle: false
[2019-03-26 14:45:53] [config] normalize: 0.6
[2019-03-26 14:45:53] [config] optimizer: adam
[2019-03-26 14:45:53] [config] optimizer-delay: 4
[2019-03-26 14:45:53] [config] optimizer-params:
[2019-03-26 14:45:53] [config]   - 0.9
[2019-03-26 14:45:53] [config]   - 0.98
[2019-03-26 14:45:53] [config]   - 1e-09
[2019-03-26 14:45:53] [config] overwrite: true
[2019-03-26 14:45:53] [config] quiet: false
[2019-03-26 14:45:53] [config] quiet-translation: true
[2019-03-26 14:45:53] [config] relative-paths: false
[2019-03-26 14:45:53] [config] right-left: false
[2019-03-26 14:45:53] [config] save-freq: 5000
[2019-03-26 14:45:53] [config] seed: 0
[2019-03-26 14:45:53] [config] sentencepiece-alphas:
[2019-03-26 14:45:53] [config]   []
[2019-03-26 14:45:53] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:45:53] [config] sentencepiece-options: ""
[2019-03-26 14:45:53] [config] shuffle-in-ram: false
[2019-03-26 14:45:53] [config] skip: false
[2019-03-26 14:45:53] [config] sqlite: temporary
[2019-03-26 14:45:53] [config] sqlite-drop: false
[2019-03-26 14:45:53] [config] sync-sgd: true
[2019-03-26 14:45:53] [config] tempdir: /tmp
[2019-03-26 14:45:53] [config] tied-embeddings: false
[2019-03-26 14:45:53] [config] tied-embeddings-all: true
[2019-03-26 14:45:53] [config] tied-embeddings-src: false
[2019-03-26 14:45:53] [config] train-sets:
[2019-03-26 14:45:53] [config]   - bt.encz.en.bpe
[2019-03-26 14:45:53] [config]   - bt.encz.cz.bpe
[2019-03-26 14:45:53] [config] transformer-aan-activation: swish
[2019-03-26 14:45:53] [config] transformer-aan-depth: 2
[2019-03-26 14:45:53] [config] transformer-aan-nogate: false
[2019-03-26 14:45:53] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:45:53] [config] transformer-dim-aan: 2048
[2019-03-26 14:45:53] [config] transformer-dim-ffn: 4096
[2019-03-26 14:45:53] [config] transformer-dropout: 0.1
[2019-03-26 14:45:53] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:45:53] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:45:53] [config] transformer-ffn-activation: swish
[2019-03-26 14:45:53] [config] transformer-ffn-depth: 2
[2019-03-26 14:45:53] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:45:53] [config] transformer-heads: 16
[2019-03-26 14:45:53] [config] transformer-no-projection: false
[2019-03-26 14:45:53] [config] transformer-postprocess: da
[2019-03-26 14:45:53] [config] transformer-postprocess-emb: d
[2019-03-26 14:45:53] [config] transformer-preprocess: n
[2019-03-26 14:45:53] [config] transformer-tied-layers:
[2019-03-26 14:45:53] [config]   []
[2019-03-26 14:45:53] [config] type: transformer
[2019-03-26 14:45:53] [config] ulr: false
[2019-03-26 14:45:53] [config] ulr-dim-emb: 0
[2019-03-26 14:45:53] [config] ulr-dropout: 0
[2019-03-26 14:45:53] [config] ulr-keys-vectors: ""
[2019-03-26 14:45:53] [config] ulr-query-vectors: ""
[2019-03-26 14:45:53] [config] ulr-softmax-temperature: 1
[2019-03-26 14:45:53] [config] ulr-trainable-transformation: false
[2019-03-26 14:45:53] [config] valid-freq: 5000
[2019-03-26 14:45:53] [config] valid-log: model/valid.log
[2019-03-26 14:45:53] [config] valid-max-length: 1000
[2019-03-26 14:45:53] [config] valid-metrics:
[2019-03-26 14:45:53] [config]   - ce-mean-words
[2019-03-26 14:45:53] [config]   - perplexity
[2019-03-26 14:45:53] [config]   - translation
[2019-03-26 14:45:53] [config] valid-mini-batch: 16
[2019-03-26 14:45:53] [config] valid-script-path: val.sh
[2019-03-26 14:45:53] [config] valid-sets:
[2019-03-26 14:45:53] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:45:53] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:45:53] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:45:53] [config] vocabs:
[2019-03-26 14:45:53] [config]   - corp/vocab.encs.yml
[2019-03-26 14:45:53] [config]   - corp/vocab.encs.yml
[2019-03-26 14:45:53] [config] word-penalty: 0
[2019-03-26 14:45:53] [config] workspace: 8600
[2019-03-26 14:45:53] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:45:53] Using synchronous training
[2019-03-26 14:45:53] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:45:53] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:45:53] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:45:54] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:45:54] Error: File 'bt.encz.en.bpe' does not exist
[2019-03-26 14:45:54] Error: Aborted from marian::io::InputFileStream::InputFileStream(const string&) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/common/file_stream.h:139

[CALL STACK]
[0x4c644c]                                                            
[0x596a86]                                                            
[0x5b07dc]                                                            
[0x4a30a6]                                                            
[0x5058b1]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f6f0fc11b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 17355 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e $i --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
ITERATION 10
[2019-03-26 14:45:54] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:45:54] [marian] Running on spider3.lingea.cz as process 17358 with command line:
[2019-03-26 14:45:54] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e 10 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:45:54] [config] after-batches: 0
[2019-03-26 14:45:54] [config] after-epochs: 10
[2019-03-26 14:45:54] [config] allow-unk: false
[2019-03-26 14:45:54] [config] beam-size: 6
[2019-03-26 14:45:54] [config] best-deep: false
[2019-03-26 14:45:54] [config] clip-gemm: 0
[2019-03-26 14:45:54] [config] clip-norm: 5
[2019-03-26 14:45:54] [config] cost-type: ce-mean-words
[2019-03-26 14:45:54] [config] cpu-threads: 0
[2019-03-26 14:45:54] [config] data-weighting-type: sentence
[2019-03-26 14:45:54] [config] dec-cell: gru
[2019-03-26 14:45:54] [config] dec-cell-base-depth: 2
[2019-03-26 14:45:54] [config] dec-cell-high-depth: 1
[2019-03-26 14:45:54] [config] dec-depth: 6
[2019-03-26 14:45:54] [config] devices:
[2019-03-26 14:45:54] [config]   - 0
[2019-03-26 14:45:54] [config]   - 1
[2019-03-26 14:45:54] [config] dim-emb: 1024
[2019-03-26 14:45:54] [config] dim-rnn: 1024
[2019-03-26 14:45:54] [config] dim-vocabs:
[2019-03-26 14:45:54] [config]   - 34028
[2019-03-26 14:45:54] [config]   - 34028
[2019-03-26 14:45:54] [config] disp-first: 0
[2019-03-26 14:45:54] [config] disp-freq: 500
[2019-03-26 14:45:54] [config] disp-label-counts: false
[2019-03-26 14:45:54] [config] dropout-rnn: 0
[2019-03-26 14:45:54] [config] dropout-src: 0
[2019-03-26 14:45:54] [config] dropout-trg: 0
[2019-03-26 14:45:54] [config] early-stopping: 5
[2019-03-26 14:45:54] [config] embedding-fix-src: false
[2019-03-26 14:45:54] [config] embedding-fix-trg: false
[2019-03-26 14:45:54] [config] embedding-normalization: false
[2019-03-26 14:45:54] [config] enc-cell: gru
[2019-03-26 14:45:54] [config] enc-cell-depth: 1
[2019-03-26 14:45:54] [config] enc-depth: 6
[2019-03-26 14:45:54] [config] enc-type: bidirectional
[2019-03-26 14:45:54] [config] exponential-smoothing: 0.0001
[2019-03-26 14:45:54] [config] grad-dropping-momentum: 0
[2019-03-26 14:45:54] [config] grad-dropping-rate: 0
[2019-03-26 14:45:54] [config] grad-dropping-warmup: 100
[2019-03-26 14:45:54] [config] guided-alignment: none
[2019-03-26 14:45:54] [config] guided-alignment-cost: mse
[2019-03-26 14:45:54] [config] guided-alignment-weight: 0.1
[2019-03-26 14:45:54] [config] ignore-model-config: false
[2019-03-26 14:45:54] [config] interpolate-env-vars: false
[2019-03-26 14:45:54] [config] keep-best: true
[2019-03-26 14:45:54] [config] label-smoothing: 0.1
[2019-03-26 14:45:54] [config] layer-normalization: false
[2019-03-26 14:45:54] [config] learn-rate: 0.0002
[2019-03-26 14:45:54] [config] log: model/bt_encz.log
[2019-03-26 14:45:54] [config] log-level: info
[2019-03-26 14:45:54] [config] lr-decay: 0
[2019-03-26 14:45:54] [config] lr-decay-freq: 50000
[2019-03-26 14:45:54] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:45:54] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:45:54] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:45:54] [config] lr-decay-start:
[2019-03-26 14:45:54] [config]   - 10
[2019-03-26 14:45:54] [config]   - 1
[2019-03-26 14:45:54] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:45:54] [config] lr-report: true
[2019-03-26 14:45:54] [config] lr-warmup: 8000
[2019-03-26 14:45:54] [config] lr-warmup-at-reload: false
[2019-03-26 14:45:54] [config] lr-warmup-cycle: false
[2019-03-26 14:45:54] [config] lr-warmup-start-rate: 0
[2019-03-26 14:45:54] [config] max-length: 100
[2019-03-26 14:45:54] [config] max-length-crop: false
[2019-03-26 14:45:54] [config] max-length-factor: 3
[2019-03-26 14:45:54] [config] maxi-batch: 10000
[2019-03-26 14:45:54] [config] maxi-batch-sort: trg
[2019-03-26 14:45:54] [config] mini-batch: 1000
[2019-03-26 14:45:54] [config] mini-batch-fit: true
[2019-03-26 14:45:54] [config] mini-batch-fit-step: 10
[2019-03-26 14:45:54] [config] mini-batch-words: 0
[2019-03-26 14:45:54] [config] model: model/model_bt_encz.npz
[2019-03-26 14:45:54] [config] multi-node: false
[2019-03-26 14:45:54] [config] multi-node-overlap: true
[2019-03-26 14:45:54] [config] n-best: false
[2019-03-26 14:45:54] [config] no-nccl: true
[2019-03-26 14:45:54] [config] no-reload: false
[2019-03-26 14:45:54] [config] no-restore-corpus: false
[2019-03-26 14:45:54] [config] no-shuffle: false
[2019-03-26 14:45:54] [config] normalize: 0.6
[2019-03-26 14:45:54] [config] optimizer: adam
[2019-03-26 14:45:54] [config] optimizer-delay: 4
[2019-03-26 14:45:54] [config] optimizer-params:
[2019-03-26 14:45:54] [config]   - 0.9
[2019-03-26 14:45:54] [config]   - 0.98
[2019-03-26 14:45:54] [config]   - 1e-09
[2019-03-26 14:45:54] [config] overwrite: true
[2019-03-26 14:45:54] [config] quiet: false
[2019-03-26 14:45:54] [config] quiet-translation: true
[2019-03-26 14:45:54] [config] relative-paths: false
[2019-03-26 14:45:54] [config] right-left: false
[2019-03-26 14:45:54] [config] save-freq: 5000
[2019-03-26 14:45:54] [config] seed: 0
[2019-03-26 14:45:54] [config] sentencepiece-alphas:
[2019-03-26 14:45:54] [config]   []
[2019-03-26 14:45:54] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:45:54] [config] sentencepiece-options: ""
[2019-03-26 14:45:54] [config] shuffle-in-ram: false
[2019-03-26 14:45:54] [config] skip: false
[2019-03-26 14:45:54] [config] sqlite: temporary
[2019-03-26 14:45:54] [config] sqlite-drop: false
[2019-03-26 14:45:54] [config] sync-sgd: true
[2019-03-26 14:45:54] [config] tempdir: /tmp
[2019-03-26 14:45:54] [config] tied-embeddings: false
[2019-03-26 14:45:54] [config] tied-embeddings-all: true
[2019-03-26 14:45:54] [config] tied-embeddings-src: false
[2019-03-26 14:45:54] [config] train-sets:
[2019-03-26 14:45:54] [config]   - corpus+paracrawl.2M.en.bpe
[2019-03-26 14:45:54] [config]   - corpus+paracrawl.2M.cz.bpe
[2019-03-26 14:45:54] [config] transformer-aan-activation: swish
[2019-03-26 14:45:54] [config] transformer-aan-depth: 2
[2019-03-26 14:45:54] [config] transformer-aan-nogate: false
[2019-03-26 14:45:54] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:45:54] [config] transformer-dim-aan: 2048
[2019-03-26 14:45:54] [config] transformer-dim-ffn: 4096
[2019-03-26 14:45:54] [config] transformer-dropout: 0.1
[2019-03-26 14:45:54] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:45:54] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:45:54] [config] transformer-ffn-activation: swish
[2019-03-26 14:45:54] [config] transformer-ffn-depth: 2
[2019-03-26 14:45:54] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:45:54] [config] transformer-heads: 16
[2019-03-26 14:45:54] [config] transformer-no-projection: false
[2019-03-26 14:45:54] [config] transformer-postprocess: da
[2019-03-26 14:45:54] [config] transformer-postprocess-emb: d
[2019-03-26 14:45:54] [config] transformer-preprocess: n
[2019-03-26 14:45:54] [config] transformer-tied-layers:
[2019-03-26 14:45:54] [config]   []
[2019-03-26 14:45:54] [config] type: transformer
[2019-03-26 14:45:54] [config] ulr: false
[2019-03-26 14:45:54] [config] ulr-dim-emb: 0
[2019-03-26 14:45:54] [config] ulr-dropout: 0
[2019-03-26 14:45:54] [config] ulr-keys-vectors: ""
[2019-03-26 14:45:54] [config] ulr-query-vectors: ""
[2019-03-26 14:45:54] [config] ulr-softmax-temperature: 1
[2019-03-26 14:45:54] [config] ulr-trainable-transformation: false
[2019-03-26 14:45:54] [config] valid-freq: 5000
[2019-03-26 14:45:54] [config] valid-log: model/valid.log
[2019-03-26 14:45:54] [config] valid-max-length: 1000
[2019-03-26 14:45:54] [config] valid-metrics:
[2019-03-26 14:45:54] [config]   - ce-mean-words
[2019-03-26 14:45:54] [config]   - perplexity
[2019-03-26 14:45:54] [config]   - translation
[2019-03-26 14:45:54] [config] valid-mini-batch: 16
[2019-03-26 14:45:54] [config] valid-script-path: ./val.sh
[2019-03-26 14:45:54] [config] valid-sets:
[2019-03-26 14:45:54] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:45:54] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:45:54] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:45:54] [config] vocabs:
[2019-03-26 14:45:54] [config]   - corp/vocab.encs.yml
[2019-03-26 14:45:54] [config]   - corp/vocab.encs.yml
[2019-03-26 14:45:54] [config] word-penalty: 0
[2019-03-26 14:45:54] [config] workspace: 8600
[2019-03-26 14:45:54] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:45:54] Using synchronous training
[2019-03-26 14:45:54] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:45:54] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:45:54] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:45:55] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:45:55] [sqlite] Creating temporary database in /tmp
[2019-03-26 14:45:58] [sqlite] Inserted 1000000 lines
[2019-03-26 14:46:01] [sqlite] Inserted 2000000 lines
[2019-03-26 14:46:07] [sqlite] Inserted 4000000 lines
[2019-03-26 14:46:21] [sqlite] Inserted 8000000 lines
[2019-03-26 14:46:50] [sqlite] Inserted 16000000 lines
[2019-03-26 14:47:49] [sqlite] Inserted 32000000 lines
[2019-03-26 14:48:27] [sqlite] Inserted 41438108 lines
[2019-03-26 14:48:27] [sqlite] Creating primary index
[2019-03-26 14:49:22] [batching] Collecting statistics for batch fitting with step size 10
[2019-03-26 14:49:22] Compiled without MPI support. Falling back to FakeMPIWrapper
[2019-03-26 14:49:22] [memory] Extending reserved space to 8704 MB (device gpu0)
[2019-03-26 14:49:22] Error: CUDA error 2 'out of memory' - /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38: cudaMalloc(&data_, size)
[2019-03-26 14:49:22] Error: Aborted from virtual void marian::gpu::Device::reserve(size_t) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/tensors/gpu/device.cu:38

[CALL STACK]
[0xa50f57]                                                            
[0x755b28]                                                            
[0x47ec84]                                                            
[0x505a1a]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f5ee3061b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 17358 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets corpus+paracrawl.2M.en.bpe corpus+paracrawl.2M.cz.bpe -e $e --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path ./val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --optimizer-delay 4 --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
[2019-03-26 14:49:30] [marian] Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:49:30] [marian] Running on spider3.lingea.cz as process 17416 with command line:
[2019-03-26 14:49:30] [marian] /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/build/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e 11 --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
[2019-03-26 14:49:30] [config] after-batches: 0
[2019-03-26 14:49:30] [config] after-epochs: 11
[2019-03-26 14:49:30] [config] allow-unk: false
[2019-03-26 14:49:30] [config] beam-size: 6
[2019-03-26 14:49:30] [config] best-deep: false
[2019-03-26 14:49:30] [config] clip-gemm: 0
[2019-03-26 14:49:30] [config] clip-norm: 5
[2019-03-26 14:49:30] [config] cost-type: ce-mean-words
[2019-03-26 14:49:30] [config] cpu-threads: 0
[2019-03-26 14:49:30] [config] data-weighting-type: sentence
[2019-03-26 14:49:30] [config] dec-cell: gru
[2019-03-26 14:49:30] [config] dec-cell-base-depth: 2
[2019-03-26 14:49:30] [config] dec-cell-high-depth: 1
[2019-03-26 14:49:30] [config] dec-depth: 6
[2019-03-26 14:49:30] [config] devices:
[2019-03-26 14:49:30] [config]   - 0
[2019-03-26 14:49:30] [config]   - 1
[2019-03-26 14:49:30] [config] dim-emb: 1024
[2019-03-26 14:49:30] [config] dim-rnn: 1024
[2019-03-26 14:49:30] [config] dim-vocabs:
[2019-03-26 14:49:30] [config]   - 34028
[2019-03-26 14:49:30] [config]   - 34028
[2019-03-26 14:49:30] [config] disp-first: 0
[2019-03-26 14:49:30] [config] disp-freq: 500
[2019-03-26 14:49:30] [config] disp-label-counts: false
[2019-03-26 14:49:30] [config] dropout-rnn: 0
[2019-03-26 14:49:30] [config] dropout-src: 0
[2019-03-26 14:49:30] [config] dropout-trg: 0
[2019-03-26 14:49:30] [config] early-stopping: 5
[2019-03-26 14:49:30] [config] embedding-fix-src: false
[2019-03-26 14:49:30] [config] embedding-fix-trg: false
[2019-03-26 14:49:30] [config] embedding-normalization: false
[2019-03-26 14:49:30] [config] enc-cell: gru
[2019-03-26 14:49:30] [config] enc-cell-depth: 1
[2019-03-26 14:49:30] [config] enc-depth: 6
[2019-03-26 14:49:30] [config] enc-type: bidirectional
[2019-03-26 14:49:30] [config] exponential-smoothing: 0.0001
[2019-03-26 14:49:30] [config] grad-dropping-momentum: 0
[2019-03-26 14:49:30] [config] grad-dropping-rate: 0
[2019-03-26 14:49:30] [config] grad-dropping-warmup: 100
[2019-03-26 14:49:30] [config] guided-alignment: none
[2019-03-26 14:49:30] [config] guided-alignment-cost: mse
[2019-03-26 14:49:30] [config] guided-alignment-weight: 0.1
[2019-03-26 14:49:30] [config] ignore-model-config: false
[2019-03-26 14:49:30] [config] interpolate-env-vars: false
[2019-03-26 14:49:30] [config] keep-best: true
[2019-03-26 14:49:30] [config] label-smoothing: 0.1
[2019-03-26 14:49:30] [config] layer-normalization: false
[2019-03-26 14:49:30] [config] learn-rate: 0.0002
[2019-03-26 14:49:30] [config] log: model/bt_encz.log
[2019-03-26 14:49:30] [config] log-level: info
[2019-03-26 14:49:30] [config] lr-decay: 0
[2019-03-26 14:49:30] [config] lr-decay-freq: 50000
[2019-03-26 14:49:30] [config] lr-decay-inv-sqrt: 8000
[2019-03-26 14:49:30] [config] lr-decay-repeat-warmup: false
[2019-03-26 14:49:30] [config] lr-decay-reset-optimizer: false
[2019-03-26 14:49:30] [config] lr-decay-start:
[2019-03-26 14:49:30] [config]   - 10
[2019-03-26 14:49:30] [config]   - 1
[2019-03-26 14:49:30] [config] lr-decay-strategy: epoch+stalled
[2019-03-26 14:49:30] [config] lr-report: true
[2019-03-26 14:49:30] [config] lr-warmup: 8000
[2019-03-26 14:49:30] [config] lr-warmup-at-reload: false
[2019-03-26 14:49:30] [config] lr-warmup-cycle: false
[2019-03-26 14:49:30] [config] lr-warmup-start-rate: 0
[2019-03-26 14:49:30] [config] max-length: 100
[2019-03-26 14:49:30] [config] max-length-crop: false
[2019-03-26 14:49:30] [config] max-length-factor: 3
[2019-03-26 14:49:30] [config] maxi-batch: 10000
[2019-03-26 14:49:30] [config] maxi-batch-sort: trg
[2019-03-26 14:49:30] [config] mini-batch: 1000
[2019-03-26 14:49:30] [config] mini-batch-fit: true
[2019-03-26 14:49:30] [config] mini-batch-fit-step: 10
[2019-03-26 14:49:30] [config] mini-batch-words: 0
[2019-03-26 14:49:30] [config] model: model/model_bt_encz.npz
[2019-03-26 14:49:30] [config] multi-node: false
[2019-03-26 14:49:30] [config] multi-node-overlap: true
[2019-03-26 14:49:30] [config] n-best: false
[2019-03-26 14:49:30] [config] no-nccl: true
[2019-03-26 14:49:30] [config] no-reload: false
[2019-03-26 14:49:30] [config] no-restore-corpus: false
[2019-03-26 14:49:30] [config] no-shuffle: false
[2019-03-26 14:49:30] [config] normalize: 0.6
[2019-03-26 14:49:30] [config] optimizer: adam
[2019-03-26 14:49:30] [config] optimizer-delay: 4
[2019-03-26 14:49:30] [config] optimizer-params:
[2019-03-26 14:49:30] [config]   - 0.9
[2019-03-26 14:49:30] [config]   - 0.98
[2019-03-26 14:49:30] [config]   - 1e-09
[2019-03-26 14:49:30] [config] overwrite: true
[2019-03-26 14:49:30] [config] quiet: false
[2019-03-26 14:49:30] [config] quiet-translation: true
[2019-03-26 14:49:30] [config] relative-paths: false
[2019-03-26 14:49:30] [config] right-left: false
[2019-03-26 14:49:30] [config] save-freq: 5000
[2019-03-26 14:49:30] [config] seed: 0
[2019-03-26 14:49:30] [config] sentencepiece-alphas:
[2019-03-26 14:49:30] [config]   []
[2019-03-26 14:49:30] [config] sentencepiece-max-lines: 10000000
[2019-03-26 14:49:30] [config] sentencepiece-options: ""
[2019-03-26 14:49:30] [config] shuffle-in-ram: false
[2019-03-26 14:49:30] [config] skip: false
[2019-03-26 14:49:30] [config] sqlite: temporary
[2019-03-26 14:49:30] [config] sqlite-drop: false
[2019-03-26 14:49:30] [config] sync-sgd: true
[2019-03-26 14:49:30] [config] tempdir: /tmp
[2019-03-26 14:49:30] [config] tied-embeddings: false
[2019-03-26 14:49:30] [config] tied-embeddings-all: true
[2019-03-26 14:49:30] [config] tied-embeddings-src: false
[2019-03-26 14:49:30] [config] train-sets:
[2019-03-26 14:49:30] [config]   - bt.encz.en.bpe
[2019-03-26 14:49:30] [config]   - bt.encz.cz.bpe
[2019-03-26 14:49:30] [config] transformer-aan-activation: swish
[2019-03-26 14:49:30] [config] transformer-aan-depth: 2
[2019-03-26 14:49:30] [config] transformer-aan-nogate: false
[2019-03-26 14:49:30] [config] transformer-decoder-autoreg: self-attention
[2019-03-26 14:49:30] [config] transformer-dim-aan: 2048
[2019-03-26 14:49:30] [config] transformer-dim-ffn: 4096
[2019-03-26 14:49:30] [config] transformer-dropout: 0.1
[2019-03-26 14:49:30] [config] transformer-dropout-attention: 0.1
[2019-03-26 14:49:30] [config] transformer-dropout-ffn: 0.1
[2019-03-26 14:49:30] [config] transformer-ffn-activation: swish
[2019-03-26 14:49:30] [config] transformer-ffn-depth: 2
[2019-03-26 14:49:30] [config] transformer-guided-alignment-layer: last
[2019-03-26 14:49:30] [config] transformer-heads: 16
[2019-03-26 14:49:30] [config] transformer-no-projection: false
[2019-03-26 14:49:30] [config] transformer-postprocess: da
[2019-03-26 14:49:30] [config] transformer-postprocess-emb: d
[2019-03-26 14:49:30] [config] transformer-preprocess: n
[2019-03-26 14:49:30] [config] transformer-tied-layers:
[2019-03-26 14:49:30] [config]   []
[2019-03-26 14:49:30] [config] type: transformer
[2019-03-26 14:49:30] [config] ulr: false
[2019-03-26 14:49:30] [config] ulr-dim-emb: 0
[2019-03-26 14:49:30] [config] ulr-dropout: 0
[2019-03-26 14:49:30] [config] ulr-keys-vectors: ""
[2019-03-26 14:49:30] [config] ulr-query-vectors: ""
[2019-03-26 14:49:30] [config] ulr-softmax-temperature: 1
[2019-03-26 14:49:30] [config] ulr-trainable-transformation: false
[2019-03-26 14:49:30] [config] valid-freq: 5000
[2019-03-26 14:49:30] [config] valid-log: model/valid.log
[2019-03-26 14:49:30] [config] valid-max-length: 1000
[2019-03-26 14:49:30] [config] valid-metrics:
[2019-03-26 14:49:30] [config]   - ce-mean-words
[2019-03-26 14:49:30] [config]   - perplexity
[2019-03-26 14:49:30] [config]   - translation
[2019-03-26 14:49:30] [config] valid-mini-batch: 16
[2019-03-26 14:49:30] [config] valid-script-path: val.sh
[2019-03-26 14:49:30] [config] valid-sets:
[2019-03-26 14:49:30] [config]   - corp/newstest2016-encs-src.en.bpe
[2019-03-26 14:49:30] [config]   - corp/newstest2016-encs-ref.cs.bpe
[2019-03-26 14:49:30] [config] version: v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:49:30] [config] vocabs:
[2019-03-26 14:49:30] [config]   - corp/vocab.encs.yml
[2019-03-26 14:49:30] [config]   - corp/vocab.encs.yml
[2019-03-26 14:49:30] [config] word-penalty: 0
[2019-03-26 14:49:30] [config] workspace: 8600
[2019-03-26 14:49:30] [config] Loaded model has been created with Marian v1.7.6 9cc5b17 2018-12-14 15:11:34 -0800
[2019-03-26 14:49:30] Using synchronous training
[2019-03-26 14:49:30] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:49:31] [data] Setting vocabulary size for input 0 to 34028
[2019-03-26 14:49:31] [data] Loading vocabulary from JSON/Yaml file corp/vocab.encs.yml
[2019-03-26 14:49:31] [data] Setting vocabulary size for input 1 to 34028
[2019-03-26 14:49:31] Error: File 'bt.encz.en.bpe' does not exist
[2019-03-26 14:49:31] Error: Aborted from marian::io::InputFileStream::InputFileStream(const string&) in /home/big_maggie/usr/marian_spider/marian_1.7.6/marian-dev/src/common/file_stream.h:139

[CALL STACK]
[0x4c644c]                                                            
[0x596a86]                                                            
[0x5b07dc]                                                            
[0x4a30a6]                                                            
[0x5058b1]                                                            
[0x44d72d]                                                            
[0x421b70]                                                            
[0x7f9900989b35]    __libc_start_main                                  + 0xf5
[0x44a19c]                                                            

train_bt_encs.sh: line 2: 17416 Aborted                 (core dumped) $marian/marian --model model/model_bt_encz.npz --type transformer --train-sets bt.encz.en.bpe bt.encz.cz.bpe -e $i --max-length 100 --vocabs corp/vocab.encs.yml corp/vocab.encs.yml --mini-batch-fit -w 8600 --mini-batch 1000 --maxi-batch 10000 --valid-freq 5000 --save-freq 5000 --disp-freq 500 --optimizer-delay 4 --valid-metrics ce-mean-words perplexity translation --valid-sets corp/newstest2016-encs-src.en.bpe corp/newstest2016-encs-ref.cs.bpe --valid-script-path val.sh --quiet-translation --beam-size 6 --normalize=0.6 --valid-mini-batch 16 --overwrite --keep-best --early-stopping 5 --cost-type=ce-mean-words --log model/bt_encz.log --valid-log model/valid.log --enc-depth 6 --dec-depth 6 --transformer-preprocess n --transformer-postprocess da --tied-embeddings-all --dim-emb 1024 --transformer-dim-ffn 4096 --transformer-heads 16 --transformer-dropout 0.1 --transformer-dropout-attention 0.1 --transformer-dropout-ffn 0.1 --label-smoothing 0.1 --learn-rate 0.0002 --lr-warmup 8000 --lr-decay-inv-sqrt 8000 --lr-report --optimizer-params 0.9 0.98 1e-09 --clip-norm 5 --devices 0 1 --sync-sgd --seed 0 --no-nccl --exponential-smoothing --sqlite -T /tmp
rm: cannot remove ‘model/model_bt_encz.npz.yml’: No such file or directory
